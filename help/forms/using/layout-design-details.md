---
title: 布局设计
seo-title: 布局设计
description: 布局设计详细信息介绍如何创建用于字母或交互式通信的布局。
seo-description: 布局设计详细信息介绍如何创建用于字母或交互式通信的布局。
uuid: b21af474-07f5-4bfe-af7d-0c322e2452ae
content-type: reference
products: SG_EXPERIENCEMANAGER/6.4/FORMS
topic-tags: interactive-communications
discoiquuid: 046b1bf9-1ac7-4e2e-ab37-6fe5422dfa20
translation-type: tm+mt
source-git-commit: e2bb2f17035e16864b1dc54f5768a99429a3dd9f

---


# 布局设计 {#layout-design}

XFA表单模板或XDP是以下模板：

* [书信](/help/forms/using/create-letter.md)
* [交互通信](/help/forms/using/web-channel-print-channel.md#printchannel) 的打 [印渠道](/help/forms/using/interactive-communications-overview.md)

* 布局片段

XDP是在Adobe Forms Designer中设计的。 本文详细介绍如何设计XDP以创建有效通信／交互通信，如在何处使用表单字段或目标区域以及何时使用布局片段。

## 为字母或Interactive Communications的打印通道创建布局 {#creating-a-layout-for-letters-or-for-interactive-communications-print-channel}

布局定义交互通信的字母／打印通道的图形布局。 布局可以包含典型的表单字段，如“地址”和“引用编号”。 它还包含表示目标区域的空子表单。 在表单设计器中创建布局，完成后，应用程序专家将其上传到AEM服务器。 在此处，您可以在创建交互通信的对应模板或打印通道时选择布局。

![设计人员：创建布局](assets/claimsubrogationlayout.png)

按照以下步骤为交互通信的字母／打印渠道创建布局：

1. 分析布局并确定在所有页面重复的内容；通常，页眉和页脚适合此类别。 此内容将放置在布局的主页上。 其余内容将转到布局的正文页面。 在策略夹克中，徽标和公司地址可以添加到主页页眉和页脚。 例如，取消声明使用相同的布局。
1. 在设计正文页面时，将页面内容分为几个部分。 每个部分设计为嵌入在布局本身中的子表单或作为片段布局。 如果节包含表，则将节建模为布局片段。
1. 布局可以按照以下方式设计：

   1. 将每个部分作为包含该部分的所有元素的单独子表单。
   1. 使每个章节子表单的子表单具有相同的父子表单。 将父子表单的布局设置为“流”，以便在大数据合并到前几节时，允许这些节向下移动。
   1. Section Primary residence也可以跨其他布局重复使用。 将其创建为片段布局。
   1. 章节其他关注详细信息仅包含两个位于另一个下方的元素，可包含大数据，且设计为流。
   1. 其他部分在特定位置包含元素，因此这些元素设计为定位布局。
   1. 如果章节包含特定位置的元素，并且这些元素包含大量数据，则将章节分为子表单。 然后排列子表单以实现所需的行为。
   1. 对于“主要居住区”部分，添加占位符目标区域。 此占位符绑定到字母／交互式通信设计时的片段主要居住位置。
   1. 将布局(以及使用布局的片段（如果有）)上传到AEM Forms服务器。

## 使用架构 {#using-schema}

您可以在布局或布局片段中使用架构，但它不是必需的。 如果您使用架构，请确保：

1. 布局和在字母／交互式通信中使用的所有片段布局使用与字母／交互式通信相同的架构。
1. 用数据填充的所有字段都绑定到架构。

## 创建可关联字段 {#creating-relatable-fields}

默认情况下，所有字段都被视为可与各种其他数据源相关。 如果您的布局包含任何与数据源不相关的字段，请用“_int”（内部）后缀命名该字段；例如，pageCount_int。

可关联字段必须：

* 是XFA &lt;field>或&lt;exclGroup>
* 具有XFA绑定引用
* 如果它是&lt;exclGroup>，则它必须至少有一个子单选按钮字段；否则，其值类型无法确定

可关联字段必须：

* 有名字

可关联字段不能：

* 在其名称中包含“_int”后缀
* 具有设置为“无”的绑定
* 是&lt;exclGroup>元素的子项

只要可靠字段满足上述条件，它就可以位于布局中的任何位置和任何嵌套深度。 您可以在主页内使用可关联字段。

字段的布局配置比目标区域子表单更灵活；但是，它们与单个值类型绑定。 您可以使字段变大，或将其设置为固定的宽度和高度，依此类推。 解析的模块或规则结果将推入字段。

## 确定何时使用子表单和文本字段 {#deciding-when-to-use-subforms-and-text-nbsp-fields}

如果要在自上而下的垂直排列布局（多个段落或图像）中捕获多个模块内容，请使用子表单。 您的布局必须处理子表单的高度增长以容纳其内容这一事实。 如果无法确定与子表单／目标关联的内容的长度永远不会超出布局中为子表单保留的空间，请在流子表单容器中将子表单创建为子表单。 此过程确保子表单下方的布局对象随着子表单的增长向下流动。

如果要将模块数据或数据字典元素数据捕获到布局的架构中（因为字段绑定到数据），或在主页上显示模块内容，请使用字段。 请记住，主页中的内容不能与正文页面内容一起流动，因此您必须确保图像字段用作标题标志。 此表提供了更多用于决定何时在布局中使用子表单或字段的标准。

<table> 
 <tbody> 
  <tr> 
   <td><p><strong>在</strong></p> </td> 
   <td><p><strong>在</strong></p> </td> 
  </tr> 
  <tr> 
   <td><p>它包含元素的组合，如姓和名</p> </td> 
   <td><p>它包含一个元素，如策略编号。</p> </td> 
  </tr> 
  <tr> 
   <td><p>它包含多个段落</p> </td> 
   <td><p>文本已换行和两端对齐</p> </td> 
  </tr> 
  <tr> 
   <td><p>重复、可选和条件数据组绑定到子表单，以降低使用脚本实现相同结果时可能出现的设计错误的风险</p> </td> 
   <td><p>您的组织的徽标和地址等元素显示在信件／交互式通信的所有页面上。 在这种情况下，请为这些元素创建表单字段，并将其放在主页上。 如果将字段绑定设置为“无数据绑定”，则“字母／交互式通信编辑器”中的no字段将显示为可关联字段。 如果要将某些类型的内容与这些字段关联，则它们必须具有绑定。</p> <p>如果您的公司地址包含多行数据，请使用带“允许多行”选项的文本字段来表示布局上的地址。</p> <p>如果文本字段的数据类型设置为纯文本，则使用模块输出的纯文本版本而不是富文本版本（将放弃所有格式）。 要保留格式，请将文本字段的数据类型设置为富文本。</p> </td> 
  </tr> 
  <tr> 
   <td><p>文本已排列</p> </td> 
   <td><p>文本字段和图像字段用于主页。 主页不能将子表单用作目标区域。</p> </td> 
  </tr> 
  <tr> 
   <td><p>对象进行分组和组织，无需将子表单绑定到数据元素</p> </td> 
   <td><p> </p> </td> 
  </tr> 
  <tr> 
   <td><p>子表单中有一个文本字段。 子表单可以扩大，但不会覆盖布局中子表单下的其他对象。</p> </td> 
   <td><p>您需要在后期流程中轻松访问其数据。</p> </td> 
  </tr> 
 </tbody> 
</table>

## 设置重复元素 {#setting-up-repetitive-elements}

当您的组织的徽标和地址等元素出现在字母／交互式通信的所有页面上时，请为这些元素创建表单字段并将它们放在主页上。 对这些字段使用名称（字段名称）绑定。

## 指定服务器渲染格式 {#specify-the-server-nbsp-render-format}

将布局的服务器渲染格式用于动态XML表单；否则，基于此布局的任何字母／交互通信都无法正确呈现。 默认情况下，Forms Designer中的服务器渲染格式设置为“动态XML表单”。 要确保您使用的格式正确：

* 在“设计器”中，单 **[!UICONTROL 击“文件”>“表单属性”>“默认”]**，并确保“PDF渲染／格式”设置设置为“动态XML表单”。

