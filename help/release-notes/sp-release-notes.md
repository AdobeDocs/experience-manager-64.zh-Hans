---
title: AEM 6.4 Service Pack 发行说明
seo-title: AEM 6.4 Service Pack 发行说明
description: 特定于Adobe Experience Manager 6.4 Service Pack的发行说明。
seo-description: 特定于Adobe Experience Manager 6.4 Service Pack的发行说明。
uuid: 49a710a8-7cd5-47de-9a96-7af7f3c00dfc
contentOwner: dekalra
products: SG_EXPERIENCEMANAGER/6.4
topic-tags: release-notes
discoiquuid: 93067308-e275-490f-8d78-ae79e046059c
translation-type: tm+mt
source-git-commit: a2808c1861b6853b5e9505ad189f296f7ebd2572
workflow-type: tm+mt
source-wordcount: '21579'
ht-degree: 27%

---


# AEM 6.4 Service Pack 发行说明 {#aem-service-pack-release-notes}

## 发行信息 {#release-information}

| 产品 | **Adobe Experience Manager (AEM) 6.4** |
|---|---|
| 版本号 | 6.4.8.0 |
| 类型 | Service Pack 版本 |
| 日期 | 2020 年 3 月 5 日 |
| 下载 URL | AEM 6.4.8.0 on [软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/cq640/servicepack/aem-service-pkg-6.4.8.zip) |

## AEM 6.4.8.0 包含哪些内容 {#what-s-included-in-aem}

AEM 6.4.8.0是一个重要更新，其中包含新功能、客户请求的主要增强功能和性能、稳定性、安全性改进，自2018年4月&#x200B;**推出AEM 6.4以来发布。**

它也是累积的，这意味着6.4.8.0包括之前发布的所有AEM 6.4服务包。

该 Service Pack 的一些重要功能亮点包括：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.20。

* WCM-RTE中的日文网站支持换行功能。

* 日文网站支持分词和分行处理。

* 增加了使用BUNSETSU方法在适当位置中断日文句和行的支持。

* 用于通信管理的CCR UI现在支持德语区域设置的小数值。

* 使用SOAP Web服务的表单数据模型集成现在支持元素上的选择组或属性。

* AEM Assets现在通过[!DNL Adobe I/O]配置了Brand Portal。

* 已将捆绑在ContextHub中的jQuery版本更新为3.2.1。

## 更改列表 {#list-of-changes}

### 站点 {#sites}

* 当AEM Sites页面的URL包含冒号或百分比符号时，基础浏览器停止响应，CPU周期显示尖峰(NPR-32368, NPR-31917)。
* 当打开AEM Sites页面进行编辑并复制组件时，某些占位符(NPR-32328)仍无法使用粘贴操作。
* 激活工作流请求不包括引用的资产(NPR-32304)。
* 创建Blueprint时，如果记录数超过80，则只显示前80条记录。 Blueprint显示其余记录的空行(NPR-32058)。
* 允许用户保存内容片段，而无需在必填字段中提供任何信息(NPR-31988)。
* 自动导航不适用于在核心体验片段组件中配置的路径(NPR-31921)。
* 在富文本编辑器(RTE)中更改表单元格的类型时，会出现以下错误：
   `Error: No common ancestor found, cannot continue` (NPR-31916)。
* 当内容在同一文件夹中移动时，将禁用页面移动选项(NPR-31841)。
* 增加了使用BUNSETSU方法和在适当位置断行(NPR-31836)来划分日文句子的支持。
* 在富文本编辑器(RTE)中编辑超链接时，不会保存新选择的路径(NPR-31659)。
* 当您删除多字段组件并撤消删除操作时，将恢复该组件，但不恢复数据(NPR-31617)。

### 资产 {#assets}

* 使用Dynamic Media Classic配置，在Experience Manager中将资产从一个文件夹移动到另一个文件夹时，将在Dynamic Media Classic中创建没有名称的文件夹(NPR-32440)。

* PDF文件的“资源”详细信息页面在Dynamic Media Scene7模式(NPR-32316)上运行的Experience Manager中不显示操作按钮。

* 无法删除资产和视频演绎版(NPR-32213)。

* 计划激活的日历图标不会显示在“状态”列（DAM资产列表的经典UI中）中，该激活的资产将安排在以后的日期和时间(NPR-32198)。

* 当资源与多个资源相关时，使用“其他”(NPR-32196)会覆盖资源的关系。

* 当用户未在Dynamic Media Client中的“设置编辑器”中进行任何更改(NPR-32178)时，“保存”按钮不会导入“远程设置”。

* PSD资产摄取导致CPU尖峰和Experience Manager作者实例(NPR-32165)不响应。

* 在Experience Manager DAM中上载大型ZIP文件时出现内存不足异常(NPR-32155)。

* 版本历史记录URL显示在资产属性页面的“引用者”字段下(NPR-31889)。

* 在“管理发布”页面上，从Brand Portal中取消发布会失败，无法查看已发布文件夹的子文件夹(NPR-31835)。

* Dynamic Media视频编码在将Scene7云配置放置到专用文件夹`/conf`而非`/conf/global`(NPR-31779)时无法上传。

* 添加注释后，在Dynamic Media Scene7运行模式(NPR-31754)上运行的Experience Manager上，时间轴上看不到图像。

* 无法使用WinZip(NPR-31745)打开从DAM下载的ZIP文件。

### 集成 {#integrations-6480}

* 在配置Experience Manager云服务(NPR-31729)中的Adobe Analytics时，一旦选择了&#x200B;**报告源**,**公司**&#x200B;和&#x200B;**报告**&#x200B;套件下拉菜单就会隐藏。

* Adobe Campaign属性不会在创建链接到Adobe Campaign的新闻稿的语言副本时清除，而在复制或粘贴链接到Adobe Campaign的新闻稿时清除(NPR-32540)。

* ReportSuitesServlet 容易遭受服务器端请求伪造 (SSRF) 攻击 (NPR-32161)。

### Sling {#sling-6480}

* 资源观测的非确定性遮蔽不起作用(CQ-4286466)。

### 项目 {#projects-6480}

* 即使用户有权在子文件夹中创建项目，用户也看不到“创建”按钮(NPR-31831)。

* 在“项目”中选择“日历视图”(NPR-31829)后，在卡视图、列表视图和日历视图之间切换的功能无法工作。

### 翻译 {#translation-6480}

* 为多种语言创建翻译项目只会为某些语言而不是所有语言生成项目，并且日志(NPR-32212)中会出现错误（资源解析程序已关闭）。

### WCM-MSM {#wcm-msm-6480}

* 权限问题导致在蓝图中移动页面时显示错误(NPR-32610)。

### WCM-Page Editor {#wcm-page-editor-6480}

* 当尝试向具有特定URL格式(NPR-32368、NPR-31917)的页面添加组件时，浏览器会停止响应。

### WCM-Admin UI {#wcm-admin-ui-6480}

* 管理发布在激活工作流请求中不包括引用的资产(NPR-32304)。

### 社区 {#communities}

* 无法更新组的组缩略图图像(NPR-32603)。

### Brand Portal {#brand-portal}

* AEM Assets中的取消发布元数据模式会填充一条错误消息，但后端会删除该模式(CQ-4286871)。

### 基础UI {#foundations-ui-6480}

* 添加到Button组件的URL中显示的字符无效(NPR-32684)。

### 表单 {#forms}

>[!NOTE]
>
>AEM Service Pack 不包含对 AEM Forms 的修复。它们是通过单独的 Forms 附加组件包交付的。此外，发布了一个累计安装程序，其中包含 JEE 上对 AEM Forms 的修复。有关详细信息，请参阅[安装AEM Forms加载项包](#install-aem-forms-add-on-package)和[安装AEM Forms JEE安装程序](#install-aem-forms-jee-installer)。

* 设计人员：如果启用了标记选项，子表单边框将消失在生成的PDF输出中(NPR-32546、NPR-32322)。

* Designer：如果表中存在合并的单元格，则对使用输出服务从 XDP 表单转换而来的输出 PDF 文件进行的可访问性测试将失败 (NPR-32079)。

* 文档安全：如果将DisableGlobalOfflineSynchronizationData选项设置为True(NPR-32080)，则受保护的PDF文件无法脱机打开。

* 文档安全：从ES4升级到AEM 6.3后打开受保护的PDF文件时出现的问题(NPR-32170)。

* 文档服务：尝试使用toPDFA转换方法将PDF文件转换为PDF/A文档时显示错误消息(NPR-32663)。

* 文档服务：在PDF文件上应用Reader扩展服务时显示异常(NPR-32639)。

* 文档服务：在将XDP文件汇编并转换为PDF文件时，将显示错误消息(NPR-31821)。

* 在“站点”页面上提交或放弃表单时，Analytics不会显示适当的结果(NPR-31359)。

### 以前 Service Pack 中包含的修补程序和功能包 {#hotfixes-and-feature-packs-included-in-previous-service-packs}

#### AEM 6.4.7.0 {#experience-manager-6470}

AEM 6.4.7.0是重要更新，包括自2018年4月&#x200B;**推出AEM 6.4以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。**

它也是累积的，这意味着6.4.7.0包含之前所有的AEM 6.4 Service Pack版本。

AEM 6.4.7.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.17。
* 添加了在删除站点页面时设置其版本的支持。
* 已在&#x200B;**DAM列表**&#x200B;视图中为创建日期添加了新列（可排序），并在&#x200B;**列表**&#x200B;视图(NPR-31311)中的资产搜索结果上添加了新列。
* 在&#x200B;**列表**&#x200B;视图中，已允许基于&#x200B;**名称**&#x200B;列的资产排序。
* 现在，可以在Dynamic Media的UI中配置“重新处理”和“批量上传”的批量大小和工作流步骤超时。
* `pdfBrochure`在Scene 7云配置中已设置为false，以在IPS中保存内存。

##### 资产 {#assets-6470}

**产品增强**

* `dam-handler`包支持的API包`package com.day.cq.dam.handler.standard.msoffice`的导出版本已升级到6.0.0(CQ-4279059)。
如果您在自定义实现中使用`com.day.cq.dam.handler.standard.msoffice`包，则建议您使用最新的uberjar编译`dam-handler`包。

* 在DAM列表视图中和列表视图中的资产搜索结果中添加了可排序的创建日期的新列(NPR-31311)。

* 在列表视图(NPR-31299)中，已允许基于“名称”列的资产排序。

**修复**

* 某些PDF文档的元数据在修改其标题时不会更新并保存到PDF(NPR-31575)。

* 无法删除文件名中包含“+”符号的资源(NPR-30588)。

* DAM文件夹属性不显示“已关闭的用户组”(NPR-30555)中添加的用户或用户组（由LDAP同步创建）。

* 电子邮件模板的主题行中出现的特殊字符显示不正确(NPR-30547)。

* 在运行于Dynamic Media Scene 7运行模式的AEM中，将资源从一个文件夹移动到另一个文件夹时，资源名称将更改为小写字母(NPR-31631)。

* 在Scene 7中，创建图像集（或mediaset）并使用DAM中适当的命名约定进行命名时，图像集的名称将更改为小写字母(NPR-31576)。

* Dynamic Media编码视频工作流无法为从Scene 7迁移到Dynamic Media - Scene 7运行模式的视频生成缩略图(NPR-31523)。

* 在Dynamic Media - Scene 7运行模式(NPR-31388)上运行的AEM中，使用过滤器搜索集时会观察到内部服务器错误。

* 编辑远程图像集时，对于与Scene 7公司名称(NPR-31347)相同的文件夹中的图像，会观察到错误。

* 包含引用的资产未发布(DM)(NPR-31179)。

* 为 Dynamic Media 混合模式配置的到期时间（客户端缓存有效时间）值没有复制到 Dynamic Media 交付环境 (NPR-31126)。

* 从AEM Dynamic Media上载 — Scene 7运行模式到Scene 7的运行时间过长，无法完成(NPR-30926)。

* 在创建包含Dynamic Media组件的页面并发布该组件时，从在Dynamic Media - Scene 7运行模式上运行的作者实例中，系统会提示用户发布dmscene7配置(NPR-30880)。

* 在Dynamic Media - Scene 7(NPR-30745)中更改“移动后标题”和“移动后名称”字段中的值后，查看器嵌入代码中“asset”参数的值保持不变。

* 触屏UI搜索（通过Omnisearch完成）结果页会自动向上滚动并丢失用户的滚动位置(NPR-31306)。

* DAM事件清除将删除最新(maxSavedActivities)事件数据并保存之前创建的数据(NPR-30870)。

* 资产标题和名称更改在移动到目标文件夹后不会保留，该目标文件夹在选择时触发无限滚动(NPR-30647)。

* 在AEM Assets中应用从Adobe资产链接(CQ-4280534)访问的任何筛选器时，集合将从视图中删除。

* 无法从UI中配置“重新处理”和“批量上传”的批量大小和工作流步骤超时，需要在CRXDE中设置，而工作流需要同步两次(CQ-4281254)。

* 批处理上传和简单上传步骤的工作流步骤名称在Scene 7中相同，这会导致混淆(CQ-4281176)。

* 如果资产缺少元数据节点，Scene 7中的重新处理工作流会卡住(CQ-4281170)。

* 对于具有视频资产的文件夹(CQ-4280630)，重新处理工作流中的BatchUpload步骤不起作用。

* 发送到DM的PDF选项的extractKeywords默认设置为true(CQ-4280101)。

* 在包含非DM资产的文件夹(CQ-4279555)上运行Scene 7重新处理工作流时，会出现空点异常。

* 当场景7中已存在具有重复名的资产时，AEM中的资产重命名无法同步到场景7(CQ-4276763)。

* 当具有“读取”权限的用户尝试打开Zip文件(CQ-4277925)时，通过电子邮件发送的用于资源下载的Zip文件无法解压缩。

* PPT再现工作流无法生成已上载PPT文件的再现，因为AEM 6.4无法更新到com.adobe.granite.poi版本2.0.28(CQ-4279059)。

* PDF文件不进行索引，内容也不可搜索(CQ-4278916)。

##### 站点 {#sites-6470}

* 当使用仅提升已修改页面提升启动项，并执行包含已修改页面的提升启动项时，仅显示要提升已修改页面。 此外，当要提升的列表正确时，未修改的页面仍显示在列表的底部(NPR-31314)。

* 将AEM Sites页面移动到其他位置时，其属性不会相应地更新以反映其新位置(NPR-31265)。

* 对于新Blueprint，如果记录数大于40，则仅显示前40条记录。 Blueprint显示其余记录的空行(NPR-31182)。

* 当LiveCopy数量较大时，LiveCopy概述渲染预览需要很长时间(NPR-30945)。

* 增加了在删除页面时设置页面版本的支持。 如果对已删除的页面禁用了版本控制，则AEM Sites无法恢复此类页面(NPR-30891)。

* 当用户在菜单的描述属性中添加日文或韩文字符时，该菜单显示日文和韩文文本的扭曲字符(NPR-31331)。

* 如果用户的焦点位于左侧边栏字段并使用键盘快捷方式粘贴内容，则会粘贴页面编辑器剪贴板的内容，而不是从左侧边栏字段复制的内容 (NPR-31169)。

* 用户编辑内容片段时，会恢复内容片段的已删除变量 (NPR-31178)。

* 内容片段模型查询效率低下。 如果实例包含大量页面并导致错误(NPR-30666)，则速度非常慢。

* 在保存内容片段模型时，日期和时间字段中的时间设置为00:00(NPR-30540)。

##### 集成 {#integrations-6470}

* 配置Adobe启动时，库URL(NPR-30700)中会加上正斜杠(/)。

* 发布后，ContextHub性能会降低(NPR-30884)。

##### Sling {#sling-6470}

* 将webconsole安全提供程序包版本更新为1.2.4，以从webconsolesecurityprovider(NPR-30885)中删除launchpad starter api的依赖关系。

##### 平台 {#platform-6470}

* 基于 Jetty 的 HTTP 服务的缓冲区大小配置中的更新未保存 (NPR-30925)。

* QueryBuilder现在支持xpath查询(NPR-31322)中的orderby fn:name()。

* 更新的Sling将事件管理员分布到版本1.1.4，改进了群集环境中日志的质量(NPR-29256)。

##### 基础UI {#foundation-6470}

* 滚动到结果页末尾并带有大量搜索结果会导致浏览器崩溃(NPR-31332)。

* 在从卡视图切换到搜索结果页上的列表视图时，在可滚动页面之前会有延迟(NPR-31280)。

##### 橡木{#oak-6470}

* 使用Tika分析器(NPR-31693)无法解析具有.docx和.xlsx文件扩展名的JPEG图像的MS Office文件。

##### Livefyre {#livefyre-6470}

* 当使用合成资源的DITA插件完成集成时，与AEM 6.4升级的集成会产生空点异常。 但是，当手动添加组件时，该集成会正常工作(FYR-11066)。

##### 翻译 {#translation-6470}

* 在提升启动页面时，目标体验片段的路径不会更新(NPR-30830)。

##### 社区 {#communities-6470}

* 在某些情况下，即使在通知设置中启用了电子邮件消息传递，电子邮件功能仍无法正常工作，系统会在NotificationsActivityStreamProvider(NPR-31521)中引发异常。
* 无法创建新成员，在AEM作者实例中的“创建成员”屏幕上显示空白屏幕(NPR-30951)。
* 用户无法在Internet Explorer 11(NPR-30927)中的博客上发表评论。
* 受限组的管理员无法视图组卡，无法在AEM作者实例(NPR-30810)中执行任何快速链接操作（编辑/发布/删除组）。
* 在AEM作者实例中创建新站点时，成员组/组信息不可见(NPR-28840)。

##### 表单 {#forms-6470}

>[!NOTE]
>
>AEM Service Pack 不包含对 AEM Forms 的修复。它们是通过单独的 Forms 附加组件包交付的。此外，发布了一个累计安装程序，其中包含 JEE 上对 AEM Forms 的修复。有关详细信息，请参阅[安装AEM Forms加载项包](#install-aem-forms-add-on-package)和[安装AEM Forms JEE安装程序](#install-aem-forms-jee-installer)。

**Forms 附加组件包**

**自适应表单**

* 在本地化自适应表单时，字符串包含词典键(NPR-31109)。

* Forms中的复选框和下拉列表“辅助功能检查失败”(NPR-31282)。

**HTML5 表单**

* 在添加子表单的实例时，生成 XDP 表单的 HTML5 预览会显示闪烁 (NPR-30907)。

**OSGi的文档服务**

* 使用com.adobe.fd.assembler.service.AssemblerService.invoke()方法运行多个同时线程以组合表单显示错误消息(NPR-31164)。

* 由Assembler Service创建的临时文件不会自动删除，需要AEM重新启动(NPR-30846)。

* 对PDF应用ReaderExtension权限会导致错误消息(NPR-30930)。

**工作流**

* OSGi工作流因100% CPU利用率(NPR-31234)而失败。

**Forms JEE 安装程序**

**文档服务**

* “转换PDF服务”无法将PDF文档转换为PostScript并显示错误消息(NPR-31267)。

* 在应用修补程序以将HTML修复为PDF失败后重置SOAP端点配置(NPR-31309)。

**PDFG 服务**

* 无法上传使用管理员UI下载的Adobe PDF设置文件(NPR-31273)。

#### AEM 6.4.6.0 {#experience-manager-6460}

AEM 6.4.6.0是重要更新，包括自2018年4月&#x200B;**推出AEM 6.4以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。**

它也是累积的，这意味着6.4.6.0包含之前所有的AEM 6.4 Service Pack版本。

AEM 6.4.6.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.15。
* 在基础API中的跟踪事件中添加了对跟踪动态UI状态的支持。
* 为图像核心组件添加了再现支持。

**资产**

* 文件夹的资产共享链接（名称中带有空格，并带有`&`字符）会为某些资产显示空白灰色卡。 NPR-29934：适用于 CQ-4270187 的修补程序
* 为AEM创建MP4资产时，DAM工作流崩溃。 NPR-30031：适用于 CQ-4271352 的修补程序
* 通过 Datapower 实施的 Adobe 智能标记存在连接问题。NPR-30026：适用于 CQ-4269457 的修补程序
* 使用OmniSearch找不到PDF。 NPR-30046：适用于 GRANITE-26290 的修补程序
* 通过 ACP API 生成的 URL 和文件夹元数据中的资产路径未进行 URL 编码。GRANITE-26198：适用于 CQ-4271814 的修补程序
* 由于未定义有效负荷，“创建审阅”任务功能不起作用。 NPR-30469:修补程序CQ-4274263
* 在资产选取器上执行OmniSearch后，将视图从卡视图切换为列表视图（反之亦然）的功能会消失。 NPR-29852：适用于 CQ-4269369 的修补程序
* （触屏UI）在管理发布向导期间，在添加页面后，资产会添加到复制队列，因此，某些资产会在几秒钟后显示。 NPR-29985：适用于 CQ-4270724 的修补程序
* 按相关度排序搜索查询返回 InDesign 文档以及 InDesign 模板。适用于 CQ-4273864 的修补程序
* 如果用户的电子邮件 ID 为大写字母，则该用户无法签入以前签出的那些资产。适用于 CQ-4276575 的修补程序
* 在`DMHybrid`模式下配置Dynamic MediaCloud Services会导致在Analytics中创建多个空报表包，而AEM上未存储报表包ID，从而导致报表包重复。 适用于 CQ-4276855 的修补程序
* 在“托管标记”页面中提升时不显示警告对话框。 适用于 CQ-4252851 的修补程序
* 使用轮盘管理标记时，导航按钮不起作用。 适用于 CQ-4275499 的修补程序
* 批量移动资产功能已中断，导致资产不会移动。 适用于 CQ-4272987 的修补程序

**站点**

* `pageinfo.json` 请求极慢，加载时间过长。NPR-29709：适用于 CQ-4269560 的修补程序
* `onTime` 或 `offTime` 者，如果AEM服务器重新启动，则不会调用保存在资产上的元数据属性。NPR-30413：适用于 CQ-4272784 的修补程序
* 由于ConfigPostProcessor类的行为不正确，挂起父页面会删除cq:子页面中的LiveRelationship混合类型。 NPR-30536、NPR-30510：适用于 CQ-4254113 的修补程序
* 在开始编辑页面的“在活动工作流程”对话框中，跨站点脚本(XSS)。 NPR-29747：适用于 CQ-4271067 的修补程序
* （经典UI）“工作流”锁定阶段会禁用“工作流”选项卡，直到释放锁定。 NPR-30356：适用于 CQ-4237557 的修补程序
* (IE11)当将HTML内容粘贴到富文本编辑器组件中（默认粘贴模式为纯文本）时，HTML将粘贴格式，因此，defaultPasteMode无效。 NPR-30045：适用于 GRANITE-26094 的修补程序
* （经典UI）重新加载站点管理页面时，“新建”菜单中的所有下拉项都会被禁用。 NPR-29980：适用于 CQ-4272044 的修补程序
* 无法将样式添加到文本或编辑在内容上创作的任何现有样式。 NPR-29712：适用于 CQ-4266249 的修补程序
* （经典UI）无dc的资产：在“路径”字段对话框浏览器中，“标题”值未列出。 NPR-30166:CQ-88858的支持请求
* cq:即使添加parsys组件后，侦听器也无法与嵌套组件一起使用。 NPR-30422：适用于 CQ-4274863 的修补程序
* AEM 与 Campaign 集成过程中发生 ContextHub 错误。NPR-30625：适用于 CQ-4250790 的修补程序
* resourceType 请求参数的值被复制到封装在双引号中的 HTML 标记属性的值中。NPR-29832：适用于 CQ-4255365 的修补程序
* 将组件从一个页面复制并粘贴到另一个页面后，需要刷新页面。 NPR-29982：适用于 CQ-4256019 的修补程序
* 不支持从页面别名中发布/取消发布，应删除该别名。 NPR-30062：适用于 CQ-4271249 的修补程序
* ExperienceFragmentsReplicationListener中未关闭的ResourceResolver警告会导致一段时间内出现稳定性问题，强制重新启动AEM实例。 NPR-30416：适用于 CQ-4257521 的修补程序
* 移动在150多个页面中引用的体验片段不会在引用这些片段的页面中修改fragmentPath。 NPR-30556：适用于 CQ-4274900 的修补程序
* 打开一个内容片段时出现解析错误，该内容片段具有一个接一个的字符元(`$`)和大括号(`{`)。 适用于 CQ-4270266 的修补程序
* 尝试在时间轴中显示“体验片段”的某个版本时，NullPointerException 中的 VersionPreviewServlet 失败。NPR-30074：适用于 CQ-4271881 的修补程序
* 无法通过签入功能锁定内容片段。 NPR-29923：适用于 CQ-4258785 的修补程序
* SAML身份验证处理程序中的签名验证失败。 NPR-30379:GRANITE-26567的后台请求

**复制**

* JCR会话/资源解析程序在OAuth实施期间在每次复制到MAC / Brand Portal时都会泄漏。 NPR-30000：适用于 Granite-26196 的修补程序

**Sling**

* 使用重叠和顺序之前受影响的子项的顺序导致IndexOutOfBoundException。 NPR-30408:适用于Sling-8296和Sling-7375的修补程序
* 在保存InactiveBundlesHealthCheck配置后，InactiveBundlesHealthCheck将读取MissingPackagesHealthCheck配置。 NPR-30084：适用于 CQ-4272644 的修补程序

**商务**

* 无法从“站点”控制台运行目录蓝图。 NPR-29829：适用于 CQ-4271461 的修补程序
* 产品中使用的资产在资产的“引用”部分不显示对产品的任何引用，而资产路径在移动资产时也不会更新。 NPR-30542：适用于 CQ-4270247 的修补程序

**平台**

* AEM 默认邮件发送程序无法通过 TLS v1.2 向远程 SMTP 服务器发送电子邮件。NPR-30476：适用于 GRANITE-26605 的修补程序

**社区**

* 在作者上删除的组未与所有发布者同步。 NPR-29987：适用于 CQ-4268738 的修补程序
* 从“社区管理员”字段中删除的已删除用户与成员组不同步。 NPR-30389：适用于 CQ-4274339 的修补程序
* 管理员组的用户没有组的快速链接。 NPR-30546：适用于 CQ-4275579 的修补程序
* 更新任何新创建的和现有的社区组会覆盖jcr上的属性：内容节点，并将其名称更改为第一页的标题。 NPR-30109：适用于 CQ-4273719 的修补程序
* 当社区设置为与数据库存储资源提供程序(DSRP)一起使用时，无法通过位置和地址进行快速搜索和搜索。 NPR-26737：适用于 CQ-4258493 的修补程序

**翻译**

* 自动执行翻译不起作用。 NPR-30499：适用于 CQ-4276288 的修补程序
* 用户可以在仅限只读的内容路径上创建语言副本。 NPR-29937：适用于 CQ-4270708 的修补程序
* 翻译问题 - 只有少数组件使用机器翻译进行了翻译。NPR-30079：适用于 CQ-4273764 的修补程序

**集成**

* 重新启动实例之前，发布实例上显示的自定义内容错误。NPR-30421：适用于 CQ-4273706 的修补程序

**项目**

* dam:folderThumbnailPaths 值未刷新，并且在删除文件夹内的资产后，还显示旧版缩略图。NPR-30424：适用于 CQ-4273667 的修补程序

**UI控制台**

* “站点”页面属性上的跨站点脚本(XSS)，位于缩略图选项卡上。 NPR-30048：适用于 Granite-26200 的修补程序

**UI基础**

* 在基础API中的跟踪事件中添加了对跟踪动态UI状态的支持。 NPR-30742, GRANITE-26322:GRANITE-26036的修补程序

**表单**

>[!NOTE]
>
>AEM Service Pack 不包含对 AEM Forms 的修复。它们是通过单独的 Forms 附加组件包交付的。此外，发布了一个累计安装程序，其中包含 JEE 上对 AEM Forms 的修复。有关详细信息，请参阅[安装AEM Forms加载项包](#install-aem-forms-add-on-package)和[安装AEM Forms JEE安装程序](#install-aem-forms-jee-installer)。

**Forms 附加组件包**

**自适应表单**

* 空.css文件从发布者中提取需要更长的时间，从而导致性能问题。 NPR-30558：适用于 CQ-4274399 的修补程序
* 发布后修改的Forms不会在发布网站时再次发布。 NPR-30411：适用于 CQ-4236566 的修补程序

**表单 - 后端集成**

* 使用Web服务定义语言(WSDL)创建表单数据模型时引发错误。 NPR-30388：适用于 CQ-4272921 的修补程序

**Forms - 通信管理**

* 特殊字符(如小于(&lt;)、大于(>)和和号(&amp;))在代理UI中进行编码。 NPR-30410：适用于 CQ-4273887 的修补程序
* 触发包含数据字典值的文本片段时，代理UI会变得不响应。 NPR-30098、NPR-30083：适用于 CQ-4272204 的修补程序
* 创建对应UI(CCR UI)间歇性地失败，错误变量（对象对象）。 NPR-29983：适用于 CQ-4273874 的修补程序
* 当文档片段的描述包含属性中的小于(&lt;)、大于(>)和和号(&amp;)等特殊字符时，字母草稿重新加载将失败，但有例外。 NPR-29930：适用于 CQ-4252762 的修补程序

**HTML5 表单**

* 在浏览模式下使用 NonVisual Desktop Access 读取 HTML5 表单时，Chrome 浏览器会读取表单设计中每个可缩放矢量图形 (SVG) 前的“图形”。NPR-30450：适用于 CQ-4274732 的修补程序

**Forms JEE 安装程序**

**Forms - Foundation JEE**

* 通过从AEM forms Workbench调用Web服务来添加或编辑Web服务连接会引发错误：ClassNotFoundException org.apache.axis.message.SOAPBodyElement。 NPR-30116：适用于 CQ-4273217 的修补程序

**表单 - 文档服务**

* PDF/A标签在Acrobat预检中缺失错误。 NPR-30594：适用于 CQ-4276032 的修补程序
* PDF中的单字符Reader绑定会导致扩展失败，并出现错误“java.lang.StringIndexOutOfBoundsException:字符串索引超出范围：1”。 NPR-30128：适用于 CQ-4273878 的修补程序
* 对 HTML 到 PDF 转换服务执行负载测试时，测试失败并显示错误，且文件类型设置从 AEM Forms 服务器中删除。NPR-30085：适用于 CQ-4272631 的修补程序
* 用Adobe Acrobat 9.1（XFA 3.0版）拼合PDF不会保留PDF表单状态：表单上的不可见元素将设置回可见状态。 NPR-29978：适用于 CQ-4270888 的修补程序

**表单 - 文档安全**

* 应用带有时间戳的签名失败，并出现错误：ALC-DSC-003-000: com.adobe.idp.dsc.DSCInvocationException: 调用错误。NPR-30696、NPR-30537：适用于 CQ-4273778 的修补程序
* Configuration Manager不为本地化表列插入日文字符串。 NPR-30496：适用于 CQ-4274868 的修补程序

**PDFG 服务**

* 尝试在Windows Server 2016上将Word文档转换为PDF时发生连接错误。 NPR-30597：适用于 CQ-4275652 的修补程序
* 尝试通过“phantomjs”库使用HTML到PDF后端服务时，权限被拒绝异常。 NPR-30456：适用于 CQ-4258077 的修补程序
* JBoss管理控制台不显示HTML至PDF服务的maxReuseCount。 NPR-30303、NPR-30135：适用于 CQ-4273763 的修补程序

#### AEM 6.4.5.0 {#experience-manager-6450}

AEM 6.4.5.0是重要更新，包括自2018年4月&#x200B;**推出AEM 6.4以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。**

它也是累积的，这意味着6.4.5.0包含之前所有的AEM 6.4 Service Pack版本。

AEM 6.4.5.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.13。
* 添加了Brand Portal复制代理中的套接字超时和连接超时。
* 全新搜索增强功能 — 将搜索结果的分页限制提高到100页。
* 默认情况下，在AEM发布实例上禁用`AssetDownloadServlet` OSGi组件。 有关详细信息，请参阅[从AEM](/help/assets/download-assets-from-aem.md)下载资源。
* 对 Assets 启用了多站点管理器支持。有关详细信息，请参阅[对资产使用MSM重用资产](/help/assets/reuse-assets-using-msm.md)。

**资产**

* 文件名中带有撇号的资源不会同步到Dynamic Media。 NPR-29538：适用于 CQ-4270592 的修补程序
* 针对 S3 多部分支持更新了 DAM DMGateway 接口。NPR-29740：适用于 CQ-4226303 的修补程序
* 在Dynamic Media中下载视频的演绎版时，资产下载对话框显示的文件大小不正确。 NPR-29642：适用于 CQ-4246202 的修补程序
* 在Day CQ DAM MIME类型服务应用m3u8文本后，资产变得不可用。 NPR-29276：适用于 CQ-4264052 的修补程序
* 如果任何已移动/重命名的资产是Sling资源集合的一部分，资产引用调整将无法保存会话。 NPR-29143:/CQ-4252605的修补程序
* 无法通过搜索元数据值来跟踪或查找资产。 NPR-29141：适用于 CQ-4260215 的修补程序
* 使用搜索过滤器保存智能收藏集时，面板上的单击操作不会保持焦点。 NPR-29000：适用于 CQ-4240323 的修补程序
* 通过移动文件夹，可以创建大小写混合或大写名称的文件夹。 NPR-28945：适用于 CQ-4265234 的修补程序
* 如果集合名称有空格，则在Omnisearch中显示空白结果。 NPR-29001：适用于 CQ-4236729 的修补程序
* 使用&amp;号(&amp;)等不受支持的特殊字符重命名文件会创建无效的文件夹。 NPR-29196：适用于 CQ-4265037 的修补程序
* DAM解压存档ZIP文件功能已断开。 NPR-29187：适用于 CQ-4254421 的修补程序
* 元数据导入应允许导入元数据，而无需注册命名空间。 NPR-29425、NPR-28132：适用于 CQ-4269445 的修补程序
* 保存元数据更改对名称包含引号字符的资产不起作用。 NPR-29395：适用于 CQ-4254305 的修补程序
* 如果文件名包含空格，则无法移动DAM资产。 NPR-29270：适用于 CQ-4266403 的修补程序
* 无法下载使用Deflate64算法压缩的ZIP存档。 NPR-29225：适用于 CQ-4253995 的修补程序
* 打开包含资产且其版本很多的文件夹时，资产缩览图显示缓慢。 NPR-29833：适用于 CQ-4271629 的修补程序
* 如果在选择收藏集后按Enter键，则无法高亮输入收藏集。 NPR-29723：适用于 CQ-4261607 的修补程序
* 跨站点脚本(XSS)攻击。 NPR-29671：适用于 CQ-4270133 的修补程序
* 对于没有删除权限的用户，向资产添加关系失败。 NPR-29640：适用于 CQ-4269196 的修补程序
* 在属性页面中添加资产标题后，当用户尝试关闭页面时，AEM会再次打开属性页面。 NPR-29628：适用于 CQ-4264929 的修补程序
* 在资产上创建大量关系会导致错误。 NPR-28779：适用于 CQ-4250708 的修补程序
* 在Scene7 Connect运行模式下，资源摄取速度很慢。 NPR-28658：适用于 CQ-4263007 的修补程序
* 未捕获的TypeError错误：无法读取尝试视图搜索结果时未定义的属性“split”。 NPR-28803：适用于 CQ-4248371 的修补程序
* 从AEM到Brand Portal的复制会长期停滞。 NPR-28914：适用于 CQ-4254932 的修补程序
* 在DAM中移动资产不会导致在Scene7上进行类似的移动。 NPR-28957：适用于 CQ-4264974 的修补程序
* 如果在AEM中更新了元数据字段，则元数据更新不会传递到IPS。 NPR-28961：适用于 CQ-4255393 的修补程序
* VersioningTimelineEventProvider应提供根版本和版本注释。 适用于 GRANITE-26063 的修补程序
* 注入数据会导致在服务器端执行代码。 适用于 CQ-4270246 的修补程序
* 对 Assets 启用了多站点管理器支持。适用于 CQ-4271453、CQ-4268621、CQ-4257491 的修补程序
* AEM 界面应在时间轴历史记录中显示资产当前版本的其他条目，并显示 Adobe Asset Link 的最新签入注释。适用于 CQ-4262864 的修补程序
* 创建或编辑MixedMediaSet时不加载示例视频。 适用于 CQ-4244889 的修补程序
* 禁用在AEM端删除内容的权限会阻止用户发布到品牌门户。 适用于 CQ-4270426 的修补程序
* 查询限制升级到AEM 6.4.3后资产报表的相关问题。NPR-28588:CQ-4262022、CQ-4260697的修补程序
* 下载功能通过 assetdownload servlet 利用 AEM Assets，允许匿名用户下载所有资产。NPR-27315,CQ-4254732的修补程序

**站点**

* JCR投诉标签名称应根据标签标题自动填充。 NPR-28990：适用于 CQ-4199411 的修补程序
* “取消继承”按钮在页面属性中添加的某些字段上不可见。 NPR-29079：适用于 CQ-4265686 的修补程序
* 转出预览操作不应尝试重新创建Live Copy或在转出页面列表中显示它。 NPR-29151：适用于 CQ-4266213 的修补程序
* （模板编辑器）结构模式下的样式策略回归。 NPR-28981：适用于 CQ-4264400 的修补程序
* 嵌套Live Copy在转出过程中显示重复条目。 NPR-29300：适用于 CQ-4268664 的修补程序
* 发布包含设计导入程序组件的Live Copy的Live Copy时失败，无法检索选定页面的引用。 NPR-28944：适用于 CQ-4265014 的修补程序
* 与多字段一起使用时，CoralUI 将 fileReferenceParameter 存储在组件级别，而不是多字段级别。NPR-29536：适用于 CQ-4266129 的修补程序
* 取消对设计导入程序的继承后，在发布时不会复制设计引用。 NPR-29648、NPR-29721：适用于 CQ-4269270、CQ-4271087 的修补程序
* 富文本编辑器中的路径字段将在根路径处打开，而与指定的搜索路径无关。 NPR-29483：适用于 CQ-4268997 的修补程序
* (IE11)复制RTE组件中的粘贴HTML内容（默认粘贴模式为纯文本）不会将内容粘贴为纯文本。 NPR-29432,NPR-29171:GRANITE-24941的修补程序
* 富文本编辑器拼写检查不再适用于其他语言。 NPR-29506：适用于 CQ-4264990 的修补程序
* 在活动页面上进行跨站点脚本(XSS)。 NPR-29614：适用于 CQ-4269322 的修补程序
* 在源代码编辑模式下，将富文本编辑器从全屏最小化会导致内容丢失。NPR-29574：适用于 CQ-4260584 的修补程序
* （经典UI）当存在大量标记时，并不总是可以导航到最后一个选项卡。 NPR-29544：适用于 CQ-4264548 的修补程序
* （经典UI）Admin Console导航菜单消失，页面未完全加载。 NPR-29571：适用于 CQ-4264585 的修补程序
* 如果在实例上启用缩小功能，则将组件添加到 WCM 页面时会生成错误警报。NPR-29396：适用于 CQ-4266196 的修补程序
* 从父级继承样式系统节点的继承存在问题。 NPR-29296：适用于 CQ-4266041 的修补程序
* 使用时间扭曲恢复的页面在版本控制时应该引用正确的图片。NPR-29431：适用于 CQ-4262638 的修补程序
* 安装最新6.4.5快照版本后，编辑器上出现Javascript错误的空白页。 NPR-29475：适用于 CQ-4266196 的修补程序
* 将组件添加到parsys时，设计组件列表属性不受尊重，会解析为具有相似parsys结构的不同模板节点名称。 NPR-29509：适用于 CQ-4269044 的修补程序
* cq:dropTargets区域覆盖整个组件，而不是图像大小，使得使用嵌入的组件很难进行定位。 NPR-29738：适用于 CQ-4268912 的修补程序
* 在使用图像就地编辑器后，图像组件不会调用“afteredit”侦听器。 NPR-29616：适用于 CQ-4268065 的修补程序
* 设置社交发布到Facebook时遇到的问题。 NPR-29212：适用于 CQ-4266630 的修补程序
* 在对修改过的页面提升启动项时，会考虑源和启动项分支中的修改。NPR-29308：适用于 CQ-4266746 的修补程序
* “内容片段”上呈现的缩略图使用内部日历来表示“日期和时间”字段。NPR-29531：适用于 CQ-4269362 的修补程序
* 无法将标记批量添加到具有现有不同标记的页面。 NPR-28729：适用于 CQ-4262922 的修补程序
* 计划激活图标未在站点管理中显示。 NPR-28725：适用于 CQ-4263917 的修补程序

**复制**

* Replication Agent组件中的敏感信息泄露漏洞。 NPR-29612,NPR-24951:GRANITE-25070的修补程序
* 用户提供的数据不会在 cq/replication/components/agent 组件的输出中进行转义，从而导致存储型跨站点脚本 (XSS) 漏洞。适用于 CQ-4266263 的修补程序

**体验片段**

* 使用智能图像时，无法将体验片段导出到目标。适用于 CQ-4269606 的修补程序

**社交 — 报告**

* AEM社区报告不在AEM作者实例中显示。 适用于 CQ-4266294 的修补程序

**平台**

* 安装包时在包管理器中进行跨站点脚本(XSS)。 NPR-29734、NPR-29713、NPR-29630:适用于GRANITE-26161、GRANITE-
* 在CRXDE Lite中存储和反射多个跨站点脚本(XSS)。 NPR-29634：适用于 GRANITE-26049 的修补程序
* “包共享”的登录功能使用GET请求，而不是POST请求，导致密码在网络选项卡下可见。 NPR-29631：适用于 GRANITE-26048 的修补程序

**Felix**

* 在系统控制台中观察到跨站点脚本(XSS)。 当鼠标悬停在文本字段上时，页面会加载并弹出。 NPR-29853,NPR-29633:适用于GRANITE-26188、GRANITE-26050的修补程序

**Granite**

* Apache Sling日志记录记录器配置不过滤注入的脚本。  NPR-29775：适用于 GRANITE-26051 的修补程序

**社区**

* 应从发布实例中删除在作者身上删除的组。 NPR-28933：适用于 CQ-4264645 的修补程序
* 应使用密码字段保护应用程序密码，而不要以纯文本形式显示社交连接工具。 NPR-29728：适用于 CQ-4270480 的修补程序
* 访客和成员无审查方权限，可通过粘贴URL来查看未批准/待决帖子。 NPR-29726：适用于 CQ-4271124/CQ-4271441 的修补程序
* 在社区登录时，出现长达 40-50 秒的高响应时间。NPR-29678：适用于 CQ-4269444 的修补程序

**翻译**

* 在导航时没有翻译功能访问权限的用户不应能够访问其子页面。 NPR-29644：适用于 CQ-4269979 的修补程序
* 用户权限未得到支持，因为向导允许在只读位置创建翻译副本。 NPR-29375：适用于 CQ-4265877 的修补程序

**UI - Foundation**

* 将搜索结果的分页限制提高到卡视图的100页和列表视图的200页。 NPR-29332：适用于 GRANITE-24644 的修补程序
* 由于延迟加载标记，集合页面上不显示任何内容。 NPR-29267：适用于 GRANITE-24902 的修补程序
* 将分页限制更改为100而不是40会触发额外的延迟加载，而无需分页请求。 NPR-29246：适用于 GRANITE-25027 的修补程序
* 加密后，未填充AEM granite密码字段。 NPR-29245：适用于 GRANITE-24908 的修补程序

**集成**

* 尝试编辑和保存AEM启动配置时显示异常消息。 NPR-29086：适用于 CQ-4266153 的修补程序
* BrightEdge 凭证失败，出现连接错误。NPR-29167：适用于 CQ-4265872 的修补程序
* 应删除Cloud Service配置中根级别显示的“继承自”复选框。 NPR-27856：适用于 CQ-4259676 的修补程序

**Sling**

* HTTP连接超时未从配置中读取。 NPR-29264：适用于 SLING-7902 的修补程序
* JCR安装程序写回导致OSGi配置使用无效格式并阻止重新部署。 NPR-29027：适用于 CQ-4264694 的修补程序

**项目**

* 用户无法完成项目工作流。 NPR-29621：适用于 CQ-4258791 的修补程序
* “项目工作流”列表显示超过40个工作流的空行。 NPR-28739：适用于 CQ-4264005 的修补程序
* 在Brand Portal中选择“动态演绎版”选项将下载一个空的.zip文件。 NPR-29420：适用于 CQ-4268826 的修补程序
* 将资产从 AEM Author /content/dam/mac 文件夹发布到 Brand Portal 不起作用。NPR-29820：适用于 CQ-4271118 的修补程序
* 名称中的标点会导致发布按钮出现问题。 NPR-29573：适用于 CQ-4269317 的修补程序
* 无法通过参考面板创建资源语言副本。 适用于 CQ-4269535 的修补程序

**工作流**

* 从6.4.2升级到6.4.4将中断对话框参加者的日历选取器字段。 NPR-29727：适用于 CQ-4270423 的修补程序

**WCM — 管理员UI**

* 在Coral2实现中打开权限选项卡不显示按钮。 适用于 CQ-4269419 的修补程序

**WCM - MSM**

* 删除 Live Copy 中的儿童模式时应分离 liveRelationship。适用于 CQ-4270395 的修补程序
* 升级到 AEM 6.4.3 后，多站点管理器需要较长时间转出。适用于 CQ-4271410 的修补程序

**漏洞**

* CSRF 保护框架不适用于 AEM Foundation 表单。NPR-28612：适用于 GRANITE-22231 的修补程序

**WCM - 页面编辑器**

* 使用无效选择器时导致反射型跨站点脚本攻击 (XSS)。适用于 CQ-4270397 的修补程序

**表单**

AEM 6.4.5.0 Forms 的重要功能亮点包括：

**Forms 附加组件包**

**自适应表单**

* （触屏UI）开始工作流选项不会弹出用于配置的对话框。 NPR-29521：适用于 CQ-4269050 的修补程序

**表单 - 后端集成**

* 为 Microsoft Dynamics 内部部署集成启用了对 Active Directory 联合身份验证服务 (ADFS) v3.0 的支持。NPR-30003、NPR-29484：适用于 CQ-4270586 的修补程序
* 预填服务因AEM Forms数据集成模块的周转时间延长而失败。 NPR-28997：适用于 CQ-4265988 的修补程序
* SOAP Web服务请求在AEM Forms中格式错误。 NPR-29013：适用于 CQ-4265443 的修补程序
* 测试SOAP服务时，如果日期值不正确，则不显示错误消息。 适用于 CQ-4265445 的修补程序

**Forms — 交互通信与Forms — 通信管理**

* 创建通信UI(CCR UI)无法处理浮点数。  NPR-29210：适用于 CQ-4254201 的修补程序
* 在“创建对应UI(CCR UI)”中，不显示在变量上设置的工具提示。 NPR-29739：适用于 CQ-4250533 的修补程序
* 无法从字母内的Omnisearch复制或粘贴。 NPR-29808：适用于 CQ-4270783 的修补程序

**HTML5 表单**

* 在文本中添加空格时，文本字段不允许填充到结尾。 NPR-28844：适用于 CQ-4260239 的修补程序

**Forms JEE 安装程序**

**Forms - Foundation JEE**

* AEM Forms Workbench中的Web服务组件无法调用Web服务，这需要双向SSL身份验证。 NPR-29485：适用于 CQ-4246794 的修补程序
* AEM Forms JEE配置管理器不能用于多个NIC卡。 NPR-29236：适用于 CQ-4268598 的修补程序
* AEM启动错误来自GemFire:java.lang.IllegalStateException:一次只能建立一个AdminDistributedSystem连接。 NPR-29524：适用于 CQ-4266295 的修补程序
* NoClassDefFoundError，因为jar版本不匹配。 NPR-28834：适用于 NPR-28834 的修补程序

**表单 - 文档服务**

* 无效的PDF/A文件会报告为使用isPDFA操作的有效PDF/A。 NPR-29076：适用于 CQ-4261541 的修补程序
* “表单”字段无法转换为PDF/A-1b时，PDF没有外观指示。 NPR-29534：适用于 CQ-4269618 的修补程序
* 使用输出服务生成的PDF的PDF/A转换无法通过Acrobat DC验证。 NPR-29647：适用于 CQ-4270448 的修补程序
* Apache POI捆绑失败，但有例外。 NPR-27861、NPR-28048：适用于 CQ-4245898、CQ-4244778 的修补程序

**Forms - Designer**

* 为使用设计人员和输出服务生成的XML Forms体系结构(XFA)表单添加了PDF/UA支持。 NPR-23022

**表单 - 工作流**

* 工作区提交失败，显示变音字符。 NPR-29087：适用于 CQ-4263172 的修补程序

**包含的功能包**

**资产**

* 对 Assets 启用了多站点管理器支持。有关详细信息，请参阅[对资产使用MSM重用资产](/help/assets/reuse-assets-using-msm.md)。 NPR-26450：适用于 CQ-4259922 的修补程序

**包含的 OSGi 包和内容包**

以下文本文档列出了 CFP 中包含的 OSGi 包和内容包。

AEM 6.4.5.0 中包含的 OSGi 包列表

[获取文件](assets/6.4.5.0_bundles.txt)

AEM 6.4.5.0 中包含的内容包列表

[获取文件](assets/6.4.5.0_OSGI.txt)

#### AEM 6.4.4.0 {#experience-manager-6440}

AEM 6.4.4.0是重要更新，包括自2018年4月&#x200B;**推出AEM 6.4以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。**

它也是累积的，这意味着6.4.4.0包含之前所有的AEM 6.4 Service Pack版本。

AEM 6.4.4.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.11。
* 增加了缓存服务版本的支持，以避免频繁的服务版本HTTP请求。
* 增加了删除自动标记的支持。
* 实现了目录向导的无穷滚动。
* 支持根据社区站点限制权限的功能。
* 针对Sling Granite内容运行状况检查的性能修复(缓存、异步执行、排除列表)。
* 添加了“资源选取器”按钮到pagethumbnail对话框。
* 添加了新属性，以允许对字段进行工具提示定位。
* 改进了多字段中对ColorPicker的支持。
* 添加了一个检查，以忽略内容片段客户端库中数字输入多字段的空值。
* 支持Microsoft Translator Text API v3。

**资产**

* 将ACP和Stock集成迁移到AEM 6.4.4.0 NPR-27632
* 稍后发布包含子文件夹的空资产文件夹会使子文件夹消失。 NPR-27558：适用于 CQ-4254701 的修补程序
* 添加单个非命名进度字符串\[\]属性会导致XMP写回不完整。 NPR-26805：适用于 CQ-4254142 的修补程序
* 栅格化输入pdf后，生成的输出缺少图像。 NPR-27929：适用于 CTG-4150481 的修补程序
* 移动资产向导显示的已发布页面引用页面计数不正确。 NPR-27833：适用于 CQ-4258014 的修补程序
* AssetPicker在使用标记进行筛选时，仅搜索第一个标记以筛选结果。 NPR-27778：适用于 CQ-4257705 的修补程序
* AEM OOTB PDF处理程序卡在处理带有外字符的PDF时。 NPR-28778：适用于 CQ-4254234 的修补程序
* 如果CSV文件的值在单列中以逗号分隔，则AEM CSV编辑器不会转义逗号，并将其视为单独的列。 NPR-28801：适用于 CQ-4261694 的修补程序
* 使用路径浏览器选择模式时元数据编辑器出现问题。 NPR-28674：适用于 CQ-4263005 的修补程序
* 太多的资产会被处理到智能内容服务，因此需要大量时间才能完成定期标记过程。 NPR-28640：适用于 CQ-4262661、CQ-4262644、CQ-4263234 的修补程序
* 桌面操作不适用于`aem/start.html`页面中的Omnisearch结果。 NPR-27242：适用于 CQ-4248176 的修补程序
* 资产API不允许上传文件> 2 GB，从而导致上传失败。 NPR-27629：适用于 Granite-23590 的修补程序
* 在实例中启用Dynamic Media时，首次尝试时，元数据不会保存在已下载的资产中。 NPR-28233：适用于 CQ-4260759 的修补程序
* 服务解析程序未在SiteCatalyst配置中关闭。 NPR-28015：适用于 CQ-4259397 的修补程序
* 在DAM中移动资产不会导致在Scene7上进行类似的移动（p2p配置）。 NPR-28313：适用于 CQ-4261091 的修补程序

**站点**

* （经典UI）部分Live Copy显示在转出列表中。 NPR-28598、NPR-28574：适用于 CQ-4263410 的修补程序
* 当cq:主控为空或无效时，LiveRelationshipManagerImpl将引发异常。 NPR-28590：适用于 CQ-4263115 的修补程序
* 开箱即用的“请求删除”工作流无法正确删除页面。 NPR-28668：适用于 CQ-4263195 的修补程序
* 关系状态UI不显示相关coral-datepicker字段的正确年份值或时间戳值。 NPR-28666：适用于 CQ-4263661 的修补程序
* 6.4 的 SuggestionHandler 中存在跨站点脚本 (XSS) 漏洞。NPR-28693：适用于 CQ-4253821 的修补程序
* 从siteadmin移动文件夹会结束内存不足，使AEM不可用。 NPR-28346：适用于 CQ-4261398 的修补程序
* MSM LiveCopy转出配置在更新后丢失。 NPR-28311：适用于 CQ-4258705 的修补程序
* 无法滚动到40个Blueprint配置之外。 NPR-27640：适用于 CQ-4239166 的修补程序
* 使用SyntheticResource作为引用会引发空指针异常并阻止页面移动。  NPR-27576：适用于 CQ-4258262 的修补程序
* PushOnModify在6.1到6.4升级实例的删除上不起作用。 NPR-28108：适用于 CQ-4259833 的修补程序
* （经典UI）缺少“取消继承”按钮，并且组件可在Live Copy页面上编辑。 NPR-28256：适用于 CQ-4260161 的修补程序
* OakState0001:转出时未解决冲突。 NPR-27982：适用于 CQ-4259548 的修补程序
* 复制/粘贴包含SyntheticResource引用的结构时，该过程以错误500结束。 NPR-27709：适用于 CQ-4259179 的修补程序
* 无法在有效负载激活时终止运行工作流。 NPR-27672：适用于 CQ-4258520 的修补程序
* 转出显示从6.1升级到6.4后的重复转出路径。NPR-27845:CQ-4259487的修补程序
* 在页面缩略图组件中集成dam资产选取器模式。 NPR-28131：适用于 CQ-108042 的修补程序
* （经典UI）无法打开与标记Widget的对话框。 NPR-28575：适用于 CQ-4262680 的修补程序
* 多字段文件上传不显示放置区。 NPR-28676：适用于 CQ-4263516 的修补程序
* 将组件从 AEM 6.0 迁移到 AEM 6.2 时出现“无效的递归选择器值”错误。NPR-28609：适用于 CQ-4241258 的修补程序
* 当插件的快门高于文本区域时，对话框中的富文本编辑器会闪烁，因此会阻止任何进一步的创作。 NPR-27579：适用于 CQ-4257440 的修补程序
* （经典UI）cq:action editor批注无效。 NPR-28232：适用于 CQ-4257703 的修补程序
* 从页面编辑器的标记过滤器资产搜索面板中删除标记无法正确刷新列表。 NPR-27983：适用于 CQ-4245567 的修补程序
* 如果多字段数值为空，则单击“保存”将产生无限加载提示，而实际上不会完成。  NPR-28400、NPR-28393：适用于 CQ-4244058、CQ-4244349 的修补程序
* 只需读取权限，用户/组就无法选择XF，也无法选择视图XF及其页面属性。 NPR-28341：适用于 CQ-4260412 的修补程序
* 从目标接收的JSON数据包含许多转义字符，导致应用程序页面中断。 NPR-28318：适用于 CQ-4252043 的修补程序
* 在安装AEM 6.4.3后无法编辑任何组件。NPR-28125:CQ-4261216的修补程序
* 对于结构化内容片段，不会保留删除标记字段的所有标记。 NPR-28133：适用于 CQ-4247241 的修补程序
* 在编辑内容片段“jcr:lastmodifiedby”和“jcr:lastmodified”属性时，将更新值，而用户不进行任何更改。 NPR-27847：适用于 CQ-4257138 的修补程序
* 内容片段版本控制比较AEM 6.4的差异改进。NPR-27764
* 如果在/content/experience-fragments上未定义cq:allowedTemplates，并且在体验片段模板上使用allowedPaths，则移动/复制体验片段时会引发错误。 NPR-27487：适用于 CQ-4257489 的修补程序
* 刷新时，新用户将显示“创建”按钮。 NPR-27335：适用于 CQ-4255360 的修补程序
* 在尝试移动已发布页面时，“移动页面”向导第一页上显示的“引用页面”计数不正确。 NPR-28111：适用于 CQ-4259663 的修补程序
* （触屏UI）引用边栏不显示传入链接。 NPR-28529：适用于 CQ-4262306 的修补程序
* 安装AEM 6.4.3后，无法编辑任何组件和页面属性。NPR-27998:CQ-4261216、CQ-4260441的修补程序
* 将 ContextHub 迁移到 jQuery 3。NPR-28397：适用于 GRANITE-19902 的修补程序

**商务**

* 如果文件夹中有20个以上的目录，则无法选择目录。 NPR-27649：适用于 CQ-4258119 的修补程序
* 由于缺少header.referer，商务向导和属性视图中断。 适用于 CQ-4261122 的修补程序

**营销活动 - 定位**

* com.day.cq.personalization.impl.TeaserResourceEventHandler进入一个无限循环，并导致对发布实例上的节点进行更新。 适用于 CQ-4263096 的修补程序

**复制**

* 构建复制内容com.day.cq.replication.AccessDeniedException时出错。 NPR-28314：适用于 CQ-4261401 的修补程序
* 在复制代理中将用户代理ID设置为admin时会发生会话泄漏。 NPR-28220：适用于 CQ-4255517 的修补程序

**DAM -Creative Cloud**

* 支持HTTP API以从AEM Assets中查找类似图像。 适用于 CQ-4254091 的修补程序
* 增强ACP API，以允许将查询结果限制到集合成员。 适用于 CQ-4258708 的修补程序

**DAM — 格式**

* 触发元数据导出后，页面将重定向到404页面。 适用于 CQ-4262447 的修补程序

**DAM - 常规**

* (Adobe Stock集成)服务器错误模式在error.log文件中显示，并出现Oauth错误。 适用于 CQ-4260406 的修补程序
* 如果6.4.4应用于6.4.3,Adobe Stock集成将不起作用。CQ-4266009的修补程序
* 即使在应用SP3修补程序后，也缺少到CF模型的链接。 适用于 CQ-4259029 的修补程序

**平台**

* （经典UI）升级到6.4.2后，基本报表组件中不提供编辑按钮。NPR-28560:CQ-4262825的修补程序
* 当使用组合property.operation=like和property.depth的查询时，它最终出现在InvalidQueryException中。 NPR-28570：适用于 CQ-4262652 的修补程序
* 从覆盖的语言节点中删除新添加的语言节点时发生内部服务器错误。 NPR-28661：适用于 CQ-4239194 的修补程序
* 随机开始sling-oak-1线程中stderr.log中的空指针异常。 NPR-28665：适用于 CQ-4237845 的修补程序

**Felix**

* webconsole.plugins.memoryusage在刷新时导致死锁。 NPR-27895：适用于 GRANITE-20715 的修补程序

**花岗岩**

* Sling Content Access运行状况检查会对自定义资源解析程序搜索路径执行较长的过度/libs验证。 NPR-28113：适用于 GRANITE-23529 的修补程序

**内容片段管理**

* 与内容片段资产的可用性改进和功能对等性。 适用于 CQ-4253883 的修补程序

**社区**

* 将易受攻击的引导程序升级到3.4，将ckeditor库升级到4.5.11。NPR-28490:CQ-4257511的修补程序
* 取消编辑模式不会恢复已删除的附件。 NPR-27902：适用于 CQ-4255150 的修补程序
* 仅特权成员可以看到代表框的合成。 NPR-27900：适用于 CQ-4251235 的修补程序
* 在发布实例上，将rep:cache添加到AEM Communities用户同步侦听器上的可忽略节点中。 NPR-27842：适用于 CQ-4247234 的修补程序
* 搜索框在UI级别显示转义字符。 NPR-27838：适用于 CQ-4259757 的修补程序
* 搜索(, +,?)等特殊字符时生成错误 。 NPR-28213：适用于 CQ-4260969 的修补程序
* 创建一个“社区特定管理员”组，供用户编辑和创作相关社区站点。 NPR-27731
* 添加了键盘事件逻辑以打开视频。 NPR-27726：适用于 CQ-4254026 的修补程序
* 发布时，为 AEM Communities 启用组件启用了键盘导航。NPR-27728：适用于 CQ-4254028 的修补程序
* 为列表和卡片视图按钮添加了 aria 标签。NPR-27727：适用于 CQ-4254027 的修补程序
* 在社交社区中处理打开的资源解析程序会话。 NPR-27721：适用于 CQ-4258714 的修补程序

**翻译**

* 提供对Microsoft Translator Text API v3的支持。 NPR-28366：适用于 CQ-4249755 的修补程序
* jcr:language和cq:language不会在翻译后的语言中自动更新。 NPR-28338：适用于 CQ-4256046 的修补程序
* 循环引用在创建语言副本时导致StackOverflowError。 NPR-27596：适用于 CQ-4255621 的修补程序
* 在多语言翻译项目中，单击保存并关闭添加到项目的后续页面中的结果会导致创建新项目，而不是在现有项目中创建新的翻译作业。 NPR-28219、NPR-28236：适用于 CQ-4261276、CQ-4260731 的修补程序
* 由于允许的字符数限制，在添加包含批量数据的内容片段时错误字符串过长。 NPR-28722：适用于 CQ-4262362 的修补程序

**Social**

* 每次发布新评论时，发布到下一页的评论都会以黄色突出显示。 适用于 CQ-4261359 的修补程序
* 无法使用 API 删除用户生成的内容中的评论。NPR-28075：适用于 CQ-4261135 的修补程序
* AbstractNotificationOperationService导致ClassCastException。 适用于 CQ-4260456 的修补程序
* 在播放器中删除对可共享内容对象引用模型 (SCORM) 云的引用。适用于 CQ-4260779 的修补程序

**UI — 基础**

* HTML客户端库管理器中集成的“文件系统输出缓存”功能中断了编译脚本（如LESS文件）的“debugClientLibs”功能。 NPR-27249：适用于 Granite-23313 的修补程序
* 激活调试模式时显示的资产数始终为1，浏览器控制台中会引发大量JS错误。  NPR-27575：适用于 GRANITE-23750 的修补程序
* 在使用Tomcat的AEM WAR中，在页面属性上保存并关闭不会返回到正确的页面。 NPR-27566：适用于 GRANITE-23671 的修补程序

**集成**

* `com.day.cq.personalization.impl.TeaserResourceEventHandler` 陷入无限循环，并导致对发布实例上的节点进行更新。NPR-28561：适用于 CQ-4263096 的修补程序
* 目标组件未考虑 cq :action。NPR-27616：适用于 CQ-4257497 的修补程序
* 无法在目标容器上正确取消 LiveCopy 继承。NPR-28129：适用于 CQ-4259813 的修补程序
* （云服务配置）在根级别出现的“继承自”复选框应被删除。NPR-27856：适用于 CQ-4259676 的修补程序

**Sling**

* 更新至Sling Models API 1.3.8、Impl 1.4.10。NPR-27636:GRANITE-23537的修补程序

**OAK — 细分持久性**

* 未在OnRC之后刷新SegmentBufferWriter。 NPR-27464

**项目**

* 多语言翻译项目不会为不属于管理员组的用户创建多语言作业。 NPR-28508：适用于 CQ-4262023 的修补程序
* 只要在服务启动期间调用getTaskRenderer，ProjectTaskListServlet就会泄露ResourceResolver。 NPR-27590：适用于 CQ-4258011 的修补程序
* 如果目录的子目录数大于页面大小，并且按日期或大小排序，则错误会阻止其移动到第一页之外。 NPR-28867：适用于 CQ-4265039 的修补程序
* 在DAM查看器中修复了跨站点脚本(XSS)。 NPR-28106：适用于 CQ-4253215 的修补程序
* 项目管理员无法将页面添加到翻译项目，因为无法显示向翻译项目添加新页面的链接。 适用于 CQ-4266334 的修补程序

**工作流**

* 当我们在包含“标记”(Tag)字段的工作流通知中打开完成工作项对话框时，单击“交叉标记”(Cross mark)会向其添加“标记”(Tag)属性。 NPR-28304：适用于 CQ-4261321 的修补程序
* “重新分配任务”对话框中的“用户选择切换按钮”不起作用。 NPR-28963：适用于 CQ-4264206 的修补程序

**表单**

AEM 6.4.4.0 Forms 的重要功能亮点包括：

* 增加了将文档安全API记录为事务进行签名和认证的支持。

**Forms 附加组件包**

**Adobe Sign集成**

* AEM 6.4 Forms Client SDK不包含adobesign-recipent包。 NPR-27735：适用于 CQ-4259372 的修补程序

**自适应表单**

* 当使用空模板创建Wan自适应表单时，客户无法将面板子级放置到表单的根面板。 NPR-28758：适用于 CQ-4264157 的修补程序
* 当日期组件的年字段值为9999时，验证脚本将失败。 NPR-28580：适用于 CQ-4262620 的修补程序
* 当使用空模板创建自适应表单时，客户无法将面板子级设置到表单的根面板。 NPR-28758：适用于 CQ-4264157 的修补程序
* 无法在自适应表单延迟加载片段的字段之间设置值。 NPR-27758：适用于 CQ-4259703 的修补程序
* 自适应表单不使用富文本编辑器，而是加载其库。  NPR-27759：适用于 CQ-4259193 的修补程序
* 重定向到URL在嵌入在AEM Sites页面中的自适应表单中不起作用。 NPR-27620：适用于 CQ-4239287 的修补程序
* 无法在自适应表单延迟加载片段的字段之间设置值。 NPR-28320：适用于 CQ-4262345 的修补程序
* 自适应表单不使用富文本编辑器，而是加载其库。  NPR-28001：适用于 CQ-4259703/CQ-4259193 的修补程序
* 在Apple iOS 12.1上运行的AEM Forms应用程序无法使用Scribble签名。NPR-28497:CQ-4261765的修补程序
* 使用6.4中的“Forms Workflow”经典创作问题提交操作。CQ-4252740的修补程序
* 处理块和删除临时存储时出错。 NPR-28806：适用于 CQ-4264441 的修补程序

**Forms - 通信管理**

* 代理UI无法保留图像的原始大小。 NPR-28800：适用于 CQ-4259767 的修补程序
* CCR/代理UI:在“数据”选项卡中移动了“日期”字段的标签。 适用于 CQ-4255499 的修补程序

**Forms — 交易报告**

* 增加了使用数字签名或将文档验证为可开单事务处理的支持。 NPR-28495：适用于 CQ-4260236 的修补程序
* 添加了“数字签名”和“验证”到“收费API”。 适用于 CQ-4260236 的修补程序

**Forms管理**

增加了在Forms Manager的“开始审阅”向导和“移动资源”向导中用下划线替换handlebars客户端库的支持。 NPR-27643：适用于 CQ-4246536 的修补程序.
在release/640分支上安装Forms管理包后，一个包仍处于安装状态。 CQ-4265410的修补程序
Forms提交的附件中不显示在工作流中，但提交操作“调用AEM Forms工作流”并选中“启用门户提交”。 适用于 CQ-4263110 的修补程序

**表单 - 后端集成**

* 无法使用Client SDK(CQ-4238469的修补程序)测试预处理器/后处理器和自定义提交

**Forms JEE 安装程序**

**表单 - 文档安全**

* 使用updatepolicy服务时，将发生无法强制对象错误。 NPR-28751：适用于 CQ-4252287 的修补程序
* Signature Build failing with orler version of commons-pkg. 适用于 CQ-4265535 的修补程序

**Forms - Foundation JEE**

* 在IBM WebSphere上安装AEM Forms时，创建基于SOAP的表单数据模型失败。 NPR-27923：适用于 CQ-4251134 的修补程序
* PDF Generator的SRT工具无法检测已安装的Adobe Acrobat版本。 NPR-27971

**Forms - Designer**

* XDP模板中的某些JPEG图像无法正确呈现。  NPR-26702：适用于 LC-3917457 的修补程序

**表单 - 工作流**

* 在an.lca中具有默认提交进程的HTML5 Forms在JBoss 7上不工作。 NPR-28675：适用于 CQ-4243928 的修补程序
* 无法在HTML工作区中提交PDF forms。 NPR-28058：适用于 CQ-4260373 的修补程序
* 使用调用FDM服务Forms Workflow在信息日志中打印客户数据。 适用于 CQ-4260385 的修补程序

**包含的功能包**

**站点**

* 内容片段版本控制比较AEM 6.4的差异改进。NPR-26760:CQ-4248839的FP
* AEM 6.4的内容片段差异改进。NPR-27866:CQ-4248839的FP
* OSGI配置&#x200B;**AEM工作流撤销功能标志**&#x200B;中的已启用功能。 撤销操作应在设置标志后终止工作流实例。 NPR-26451：适用于 CQ-4259090 的修补程序

**平台**

* 增强的查询 Builder Facet提取利用Oak API for 6.4。NPR-26674:CQ-4230337的FP

**包含的 OSGi 包和内容包**

以下文本文档列出了 CFP 中包含的 OSGi 包和内容包。

AEM 6.4.4.0 中包含的 OSGi 包列表

[获取文件](assets/bundles_6_4_4_0.txt)

AEM 6.4.4.0 中包含的内容包列表

[获取文件](assets/osgi_package_6_440.txt)

#### AEM 6.4.3.0 {#experience-manager-6430}

AEM 6.4.3.0是一个重要更新，包括自2018年4月AEM 6.4正式发布以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。

它也是累积的，这意味着6.4.3.0包含它之前的所有AEM 6.4服务包版本。

AEM 6.4.3.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.9。
* 增加了对自适应表单模板上allowedPaths属性的支持。
* 在AEM中增强基于面板的资产搜索
* 在“登录”页面中修复了跨站点脚本(XSS)。
* 改进了UI检测。
* 改进了FormData处理。
* 改进了多字段内项命名的处理。
* 改进了在选择过程中对占位符项目的处理(卡视图和列表视图)。
* 增加了对Managed Services的AdobeIMS身份验证和Admin Console支持。

**资产**

* 如果启用了“IDS解耦”选项，则DAM更新资产工作流不会从INDD文件提取引用。 NPR-26243：适用于 CQ-4250933 的修补程序
* 使用资产批量编辑器发布资产时，不会显示成功消息。 NPR-26252：适用于 CQ-4251688 的修补程序.
* 在从搜索结果中查看资产后，如果您单击浏览器中的“返回”按钮，将显示“错误请求”错误消息，错误代码为400。 26578卢比；CQ-4253741的修补程序
* 资产元数据在安装Service Pack后显示无效的命名空间错误。 NPR-22341;CQ-4237202的Quickfix
* 对于适用的文件夹，不会显示在“列表”视图中对文件夹和内容片段重新排序的选项。 NPR-27153：适用于 CQ-4255873 的修补程序
* 用户无法将资产添加到新集合，因为它会在错误弹出对话框中导致包含图像损坏的错误消息。 NPR-22431：适用于 CQ-4237086 的修补程序
* 动态下拉列表不支持级联下拉列表。NPR-27043：适用于 CQ-4252564 的修补程序
* 如果用户在DMS7云配置中为“公司根文件夹”设置了非默认值，则查看器预设不按预期工作。 NPR-26360：适用于 CQ-4249505 的修补程序
* 资产报告对于具有大量资产的实例失败。 NPR-27278：适用于 CQ-4256748 的修补程序
* 子文件夹不会继承父文件夹的SmartCrop图像用户档案。 NPR-27197：适用于 CQ-4256273 的修补程序
* 启用Dynamic Media集成后，资产的某些元数据属性会被修改。 不显示宽度、高度和位置属性。 NPR-27203：适用于 CQ-4256258 的修补程序
* Dynamic Media不为某些类型的资产使用已配置的代理。 NPR-25211：适用于 CQ-4244871 的修补程序
* “元数据编辑器”页包含无效项参数的空指针异常。 NPR-26169：适用于 CQ-4241368 的修补程序.
* 如果下拉框具有选择规则和应用于该规则的必需规则，则元数据编辑器中无法满足该必需规则。 NPR-27479;CQ-4251428的修补程序

**站点**

* 用户可以使用内容策略在串联全屏模式下控制富文本编辑器功能，但无法使用内容策略控制编辑对话框富文本编辑器功能。 NPR-26750：适用于 CQ-4241130 的修补程序
* 当从全屏切换到浮动对话框时，富文本编辑器变得不可用。 浮动视图包含两个富文本编辑器。 NPR-25589：适用于 CQ-4206008 的修补程序
* 当在文本字段中按下返回键（Enter键）时，富文本编辑器将切换到全屏模式。 NPR-26204：适用于 CQ-4245893 的修补程序
* 富文本编辑器的列表插件会自动禁用，不允许修改。 NPR-26507：适用于 CQ-4239387 的修补程序
* 将特殊字符添加到富文本编辑器窗口时，窗口将滚动到顶部。 NPR-26435：适用于 CQ-4249869 的修补程序
* 客户端上下文 segment.js 缓存与非缓存问题。NPR-26622：适用于 CQ-4253486 的修补程序
* 从创作实例到发布实例激活子规则后，发布实例将停止工作。 NPR-26601：适用于 CQ-4253588 的修补程序
* 将富文本编辑器与多个字段组合使用时，出现未捕获的类型错误：fieldAPI.getName 在 foundation.js 中不是函数。NPR-27146：适用于 CQ-4253155 的修补程序
* Salesforce集成无法使用代理配置。 NPR-27244：适用于 CQ-4245300 的修补程序
* 当您在以后的日期使用“管理发布”选项计划页面以进行激活并切换到列表视图时，缺少日历图标。 NPR-26974：适用于 CQ-4239206 的修补程序
* 用户无法在页面属性中编辑已关闭的用户组权限。 NPR-27138:CQ-4256089的修补程序
无法通过标记编辑标记。 NPR-26957：适用于 CQ-4254858 的修补程序
* 当从结构化内容片段模型引用的标记被移动时，内容片段中对标记的现有引用不会更新。 这会在内容片段模型的编辑屏幕中发生。 NPR-26776：适用于 CQ-4251805 的修补程序
* 在创建和提升包含多个页面的启动项时，会为每个页面创建多个版本。 NPR-26917：适用于 CQ-4254663 的修补程序
* AEM siteadmin不处理键入到浏览器地址栏的路径。 NPR-26780：适用于 CQ-4254097 的修补程序
* 将页面移动到新位置但不重命名时，页面的版本历史记录将丢失。 NPR-26706：适用于 CQ-4254025 的修补程序
* 体验片段管理员编辑器中的URL不允许叠加。 NPR-26319：适用于 CQ-4252156 的修补程序
* 当使用包含空体验片段的模板创建页面并将其发布时，该页面将无法打开，并且会发生DefaultSlingScript错误。 NPR-26305：适用于 CQ-4252460 的修补程序
* 当与同名类一起使用数据密钥时，将产生不可编译的代码。 NPR-27282：适用于 Sling-7581 的修补程序
* 升级SP安装后，站点具有空白的blueprint转出配置。 NPR-27609：适用于 CQ-4257078 的修补程序

**DAM - Brand Portal**

* 将元数据模式表单发布到Brand Portal时，不会发布标记谓词。 适用于 CQ-4256218 的修补程序
* 将第三级文件夹从AEM发布到Brand Portal时，如果不发布父文件夹，则文件夹名称会更改。 适用于 CQ-4255423 的修补程序
* 路径浏览器谓词已按预期从AEM Assets发布到Brand Portal。 但是，BP的已发布路径仍为/content/dam，必须更新。 适用于 CQ-4256240 的修补程序

**DAM -Creative Cloud**

* “搜索Adobe资产”图标在AEM主导航中缺失。 适用于 CQ-4254343 的修补程序

**DAM - DM 客户端**

* 在将视频引入与AVS视频处理用户档案相关联的文件夹中之后，浏览器窗口会反复刷新。 适用于 CQ-4253563 的修补程序
* 使用包含大写字符的临时标记时，YouTube发布失败。 适用于 CQ-4252477 的修补程序
* 在PDF等资产中创建注释时，UI会开始无限的页面刷新循环。 NPR-27052：适用于 CQ-4255396 的修补程序

**DAM - DM服务**

* Dynamic Media不为某些类型的资产使用已配置的代理。 NPR-10727：适用于 CQ-4244871 的修补程序

**平台**

* org.apache.sling.i18n的性能问题。 NPR-26812：适用于 SLING-7543 的修补程序
* 当输入XML格式化和部署时，无法看到节点属性。 NPR-26198：适用于 CQ-4250448 的修补程序
* ResourceProviderTracker中的IndexOutOfBoundsException。 NPR-26968：适用于 GRANITE-23310 的修补程序
* JMX控制台会累积大量管理会话，并且每5分钟会打开一个新会话。 NPR-26958：适用于 CQ-4251090 的修补程序
* 从6.2升级到6.4后，日志文件显示未关闭资源解析程序com.adobe.granite.repository.hc.impl.content.sling.SlingContentHealthCheck的堆栈跟踪。 NPR-26176：适用于 Granite-21734 的修补程序
* 将现成的调度程序刷新代理配置为更新别名时，操作将失败，出现StackOverflowError。 NPR-26373：适用于 CQ-4242928 的修补程序
* 复制使用过期的OAuth令牌，直到它失败。 NPR-25894
* 带吊带的受限页面（已关闭的用户组页面）：alias不会将用户重定向到登录页。 NPR-25715:适用于Granite的修补程序=22263
* 发布标记时，UI上不显示活动。 适用于 CQ-4255961 的修补程序
* 无法在经典UI中编辑标记。 适用于 CQ-4258697 的修补程序
* 已将org.apache.felix.http.bridge更新为版本4.0.4。NPR-27038:花岗岩的后台 — 23334
* 应将包管理器活动日志提取到单独的日志文件中。NPR-27323：适用于 Granite-14866 的修补程序
* 包验证程序不报告CFP中的叠加。 NPR-27119：适用于 GRANITE-22825 的修补程序

**项目**

* ACP API仅处理子目录子目录的分页。 NPR-27617：适用于 CQ-4258639 的修补程序

**OAK**

* 安装AEM 6.4 Service Pack 2后无法登录到存储库。 NPR-27171：适用于 Granite-23317 的修补程序

**复制**

* “审核日志”在活动会话中保持打开状态，这些会话每天约750次，不断增加。 NPR-27062：适用于 CQ-4241350 的修补程序

**社区**

* 论坛帖子和回复会添加到第二页的顶部，刷新后，帖子将移至第一页顶部的正确位置。NPR-27342：适用于 CQ-4247338 的修补程序
* 指向所有资源的链接会在滚动后放置上下文路径(/aempublish)。 NPR-26982：适用于 CQ-4254345 的修补程序
* 在编辑已发布的站点时，添加的组不会显示在“社区管理者”、“社区管理者”和“特权成员”下拉框中。 NPR-27190：适用于 CQ-4258574 的修补程序
* 即使为组列表启用了分页，启用资源页面中也只列出10个组。 NPR-26934：适用于 CQ-4252985 的修补程序
* ConfigMgr中提供了在日志组件中启用/禁用计划帖子搜索的选项，并优化了SearchScheduledPosts作业。 NPR-26923：适用于 CQ-4250463 的修补程序
* 当AEM社区设置为与DSRP一起使用时，按地址中的关键字搜索在日历组件页中无效。 NPR-26737：适用于 CQ-4258493 的修补程序
* 为审核UI和启用资源实施了指向评论（而非评论详细信息中的主帖）的直接链接。 NPR-26704：适用于 CQ-4251381 的修补程序
* 通过审核控制台上的多选方式审核的内容不会显示在活动流中。 NPR-26695：适用于 CQ-4253244 的修补程序
* 在“社区消息”的“收件人”字段中使用名和姓进行搜索不会返回预期结果。 NPR-26385：适用于 CQ-4248673 的修补程序
* 在论坛中上传图像以外的附件（例如 PDF）时出现错误。NPR-27360：适用于 CQ-4257753 的修补程序
* 如果使用MySQL DSRP设置了“作者发布”，则取消固定或取消设置论坛帖子的功能不起作用。 NPR-26125：适用于 CQ-4251520 的修补程序
* 集合组件（论坛、博客、日历、构思、问题与答案）现在在组件对话框中具有一个属性，用于启用/禁用“在作者编辑模式下阻止UGC”，以在WCM编辑模式下允许/拒绝UGC加载。 NPR-26978：适用于 CQ-4248161 的修补程序
* 标记搜索不适用于本地化的搜索词。 NPR-26171：适用于 CQ-4249926 的修补程序
* “返回”按钮会在论坛搜索中跳过页面。 NPR-26950：适用于 CQ-4254804 的修补程序
* 在默认Http端口(80)上运行的AEM实例无法到达imsmanifest.xml。 NPR-27173：适用于 CQ-4252211 的修补程序
* 如果AEM Communities已使用DSRP设置，则取消将注释标记为问题与解答无效。 NPR-26247：适用于 CQ-4252232 的修补程序
* 无法调用Adobe存储:414错误 — 当用户搜索/content/community-components/en/search.html并选择作者字段作为该搜索词的过滤器之一时，观察到长GETURI。 NPR-26643：适用于 CQ-4251303 的修补程序
* ASRP配置中DataCentreURL的下拉列表值从Dallas更改为Virginia（对于VA6）。 NPR-26936：适用于 CQ-4254434 的修补程序
* 论坛搜索中的特殊字符返回错误或没有结果。 NPR-26930：适用于 CQ-4247744 的修补程序
* 论坛搜索中显示的“结果数”数字对英语和德语区域设置使用不正确的分隔符。 NPR-27050：适用于 CQ-4248939 的修补程序
* 未读通知不会超过21。 NPR-26946、NPR-27480：适用于 CQ-4252829、CQ-4256939 的修补程序
* 任何组件的注释部分中的分页使用户在通过分页到达页面时向上滚动以查看页面内容。 NPR-27032：适用于 CQ-4251228 的修补程序
* 从AEM作者实例的管理控制台中查看时，社区站点文件夹在缩略图上无法单击。 NPR-26986：适用于 CQ-4254036 的修补程序
* “标记所有已读”选项仅将前10个通知标记为已读，而其他通知则在页面刷新前仍保持未读。 NPR-27037：适用于 CQ-4254058 的修补程序
* 不会为“构思”触发分页，除非重新加载主题（或回复）的列表会更长。 NPR-26193：适用于 CQ-4252104 的修补程序
* 其他用户的活动和删除了在使用审查方凭据登录时可见的UGC，并在审查方的用户档案URL末尾添加“#social-活动”或“#tabs-2”。 适用于 CQ-4251355 的修补程序
* 无法从博客文章中删除所有已分配的标记。 NPR-26851：适用于 CQ-4253359 的修补程序
* 删除UGC时，不会删除与UGC的关系。 NPR-27630：适用于 CQ-4258706 的修补程序
* 在行上单击“论坛”回复时，回复的链接不工作。 NPR-27623：适用于 CQ-4256138 的修补程序
* 用户订阅限制为 1000。NPR-27614：适用于 CQ-4254689 的修补程序
* 在角色设置中编辑站点和编辑角色会引发空指针异常。 NPR-27377：适用于 CQ-4255909 的修补程序

**翻译**

* 翻译预览不适用于we.retail示例内容。 NPR-26727：适用于 CQ-4241179 的修补程序

**UI — 基础**

* 升级到AEM 6.4后，尝试下载配置时返回NullPointerException。NPR-27310:适用于Granite-23573的修补程序
* 针对granite.platform.login修复的主动支持。 NPR-26941
* 针对granite.ui.co内容修复的主动支持。 NPR-26294
* 数字字段组件不验证Internet Explorer 11上的负数。 NPR-26701
* granite.ui.coralui3修复的主动支持。 NPR-26662
* 针对granite.ui.coralui3-eon修复的主动支持。 NPR-26666
* granite.ui.foundation.components修复的主动支持。 NPR-27313
* granite.ui.commons修复的主动支持。 NPR-26753
* 主动式 Foundation UI 补丁包。NPR-26248

**集成**

* 不会发布通过定位引擎创建的AEM体验中的修改。 NPR-24869：适用于 CQ-4247832 的修补程序
* 如果活动和体验的名称包含日文字符，则无法创建多个体验。 NPR-27271：适用于 CQ-4256857 的修补程序
* 更新Launch API终结点。 NPR-26790：适用于 CQ-4254380 的修补程序
* （个性化）BrandsRetriever会遍历整个树。 NPR-27060：适用于 CQ-4255790 的修补程序

**WCM — 管理员UI**

* 添加了用于发布/取消发布包含引用的页面的HTTP测试和Live Copy的UI测试。 适用于 CQ-4256894 的修补程序

**WCM - 页面编辑器**

* 在第一次编辑时，会为组件禁用“编辑”工具栏。 适用于 CQ-4253270 的修补程序

**表单**

AEM 6.4.3.0 Forms 的重要功能亮点包括：

* 支持使用动态实体替换对象的数组/列表。
* 为数字签名、Reader扩展、CryptoProvider和TrustStore中的Reader Extended工作流启用了FIPS规范。
* 为使用设计器或输出服务生成的XFA表单添加了PDF/UA支持。
* 已启用对自适应表单模板上allowedPaths属性的支持。
* 增加了对AEM Forms 6.4的JBoss 7.1.4支持。

**Forms 附加组件包**

**后端集成**

* 无法基于SOAP响应中的动态实体填充表单数据模型映射。 NPR-26428：适用于 CQ-4250639 的修补程序
* 表单数据模型中使用测试UI输入的附加数据的_elementNamespace值未正确反映在SOAP请求中。 适用于 CQ-4255373 的修补程序
* 可为null的属性约束是使用默认值初始化的，无法与FDM同步。 适用于 CQ-4253873 的修补程序
* 对于OData数据源，nullable属性的默认值未设置为True。 适用于 CQ-4253870 的修补程序

**自适应表单**

* 无法加载站点和表单编辑器。 NPR-26977：适用于 CQ-4249170 的修补程序
* 使用键盘向自适应表单添加附件时出现问题。 NPR-25913：适用于 CQ-4249456 的修补程序

**表单 - 交互式通信**

* 无法移动已使用“交互通信”Web渠道和自适应表单中内容树中的“添加子面板”选项添加的面板。 适用于 CQ-4253915 的修补程序
* 在“打印”渠道的“数据源”部分中，将显示表名，而不是FDM关联的标题。 适用于 CQ-4253669 的修补程序
* isUseXFABullets()函数未在PrintChannelRenderOptions类中禁用，并在客户端SDK中可用。 适用于 CQ-4246583、CQ-4252700 的修补程序

**通信管理**

* 6.4的Javadocs不包含com.adobe.dbforms。*包和相应的类。 适用于 CQ-4253200 的修补程序
* CCR UI会显示日期字段的默认垃圾邮件值，以防测试数据XML中没有输入内容。 适用于 CQ-4252041 的修补程序
* 如果字母包含列表模块，则在从字母生成PDF时，项目符号和文本之间的空格会丢失。 适用于 CQ-4250588 的修补程序

**表单管理器**

* 已启用对自适应表单模板上allowedPaths属性的支持。 NPR-26598：适用于 CQ-4255892 的修补程序

**表单 - 工作流**

* 如果在执行Forms工作流时任务名称中包含大括号，则日志中会显示异常。 适用于 CQ-4256626 的修补程序
* 无法在AEM Forms工作区中打开搜索模板。 适用于 CQ-4255651 的修补程序

**移动设备表单**

* 在Internet Explorer或Chrome中，当退出AEM Forms中呈现为HTML的日期字段时，不显示退出通知。 NPR-26483：适用于 CQ-4239352 的修补程序
* 处理开始时XML中包含的日期会导致用户尝试离开表单时表单引发验证错误。 NPR-26787：适用于 CQ-4251211 的修补程序

**Forms JEE 安装程序**

**PDF Generator Service**

* 无法显示PDF生成器的标准报告和规范设置。 NPR-26715：适用于 CQ-4253384 的修补程序
* convertpdf二进制文件在AIX Forms加载项包中缺失，这会导致在调用PDFA服务时失败。 适用于 CQ-4257873 的修补程序
* 处理TIFF文件时，纸质捕获服务崩溃。 NPR-28079：适用于 CQ-4240649 的修补程序

**文档服务**

* 在数字签名、Reader扩展、CryptoProvider和TrustStore中为RE工作流添加FIPS规范。 NPR-27495：适用于 CQ-4257572 的修补程序
* 在循环中运行AssemblerService.toPDFA服务时，转换失败。 NPR-26354：适用于 CQ-4248656 的修补程序
* 无法根据PDF/A-1b标准正确验证PDF规范。 NPR-26286：适用于 CQ-4227539 的修补程序
* 将AEM Forms从6.1 SP2 CFP5升级到CFP13时内存不足问题。 NPR-26285：适用于 CQ-4244379 的修补程序
* 无法根据PDF/A标准正确验证PDF规范。 NPR-26272：适用于 CQ-4248823 的修补程序

**Forms - Foundation JEE**

* 增加了对AEM Forms 6.4的JBoss 7.1.4支持。 NPR-27331;CQ-4255601的修补程序

**包含的功能包**

* 支持使用动态实体替换对象的数组/列表。 NPR-26590：适用于 CQ-4254655 的修补程序

**包含OSGI包和内容包**

AEM 6.4.3.0 中包含的 OSGi 包列表

[获取文件](assets/6.4.3.0_bundles.txt)

AEM 6.4.3.0 中包含的内容包列表

[获取文件](assets/6.4.3.0_OSGI.txt)

#### AEM 6.4.2.0 {#experience-manager-6420}

AEM 6.4.2.0是一个重要更新，包括自2018年4月&#x200B;**推出AEM 6.4以来发布的性能、稳定性、安全性和重要客户修复及增强功能。**
它也是累积的，这意味着6.4.2.0包含它之前的所有AEM 6.4服务包版本。

AEM 6.4.2.0的一些主要亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.7。
* 增加了对HTML模板语言(HTL)规范1.4功能的支持
* 增加了对MongoDB Enterprise 3.6的支持。
* 站点页面编辑器添加了对上下文编辑和合成的支持，客户端组件在React或Angular中与<a href="../sites-developing/spa-walkthrough.md">AEM SPA Editor JS SDK</a>一起构建。
* 内容片段增强功能：添加了在文本字段中添加注释和并排比较版本的功能。
* 添加了与Adobe Stock](/help/assets/aem-assets-adobe-stock.md)的[集成，以便用户可以直接从AEM用户界面搜索、预览、保存和许可Adobe Stock资源。 有关详细信息，请参阅[将Adobe Stock资源与AEM Assets](https://docs.adobe.com/content/help/en/experience-manager-learn/assets/creative-workflows/adobe-stock.html)一起使用。
* Assets新增了对动态条件元架构的支持，以及为资产文件夹设置元数据模式的功能。
* 在每个组件中添加了配置以启用/禁用文件夹缩略图创建/更新功能。
* 页面创作时的图像编辑器增强功能。
* 社区中的回归修复，在选定答案被删除时，无法正确处理得分事件。
* 已将索尔的最大搜索结果限制修改为MAX_INT-10000。
* 仅在对storeTransaction的第一次调用时启动事务刷新作业。
* “全选”按钮现在在卡视图和列视图中可用。
* CoralUI中的辅助功能改进。
* 改进了Coral.Keys处理。
* 将moment.js更新为2.22.2
* 将jquery更新为1.12.1
* 引入了基础工作流状态组件。
* 已将GCC更新为最新版本。
* 将SAML移动到新的外部IDP同步。

**资产**

* pptx文件的子资产生成不包含任何图像和缩略图。 NPR-24286：适用于 CQ-4217986 的修补程序
* migrateAllAssets — 添加对批处理的支持，并改进将UUID添加到旧资产的AEM方法。 NPR-24861：适用于 CQ-4242863 和 CQ-4247874 的修补程序
* 缩览图生成的性能问题。 NPR-24693：适用于 CQ-4246960 的修补程序
* （触屏UI）将“选项谓词”组件添加到“资产共享发布者”页面时仍为空。 NPR-24643：适用于 CQ-4245295 的修补程序
* （工作流）智能标记资产不会通过代理配置进行处理。 NPR-25840：适用于 CQ-4248202 的修补程序
* (Omnisearch)从搜索条件中删除文件类型：图像不会删除图像类型。 NPR-25232：适用于 CQ-4248280 的修补程序
* 当尝试将文件移动到其他文件夹时，名称中带有撇号的文件夹不会显示。 NPR-25125：适用于 CQ-4248660 的修补程序
* 当语言首选项设置为“英语”以外的值时，“子资产”页面中的滑块无法正常工作。 NPR-25274：适用于 CQ-4248489 的修补程序
* 在具有欧洲数字格式的计算机上打开元数据导出csv文件时的问题。 NPR-26009：适用于 CQ-4250677 的修补程序
* 没有“删除”权限时，在选择资产文件夹时，“创建”按钮不可用。 NPR-25788：适用于 CQ-4250140 的修补程序
* （支持）辅助功能增强：重复-id:id属性值必须唯一，标签：表单元素必须具有标签和链接名称：链接必须有可辨认的文本。 NPR-24252：适用于 CQ-4250905、CQ-4250906、CQ-4250907 的修补程序
* 对于欧洲国家/地区，上传带有以“，”分隔的字段的csv失败。 NPR-25549：适用于 CQ-4249931 的修补程序
* （品牌门户）在发布资产时，多页pdf文件的子资产不会发布。 NPR-25991：适用于 CQ-4245162 的修补程序
* 稍后发布AEM到Brand Portal复制的功能。 NPR-25911：适用于 CQ-109139 的修补程序
* 由非管理员用户发布和取消发布私有集合会生成NPE。 NPR-25906：适用于 CQ-4250594 的修补程序
* 禁用将内容片段和表单模式发布到Brand Portal。 NPR-24176、NPR-26004：适用于 CQ-4251592、CQ-4252026 的修补程序
* (Dynamic Media)将DM查看器更新为5.10.1版，允许在“图像预设”页面上检查重复名称。 请参阅更新Dynamic Media查看器(5.10.1)。 NPR-24403：适用于 CQ-4247554 的修补程序
* 在选择资产或文件夹时，列视图中浏览器控制台中出现Javascript错误。 NPR-25939：适用于 CQ-4250228 的修补程序
* (列视图)无法识别任务，因为键文件显示为空白条目。 NPR-25903：适用于 CQ-4246307 的修补程序

**站点**

* AEM 6.2上datasource.jsp的查询与AEM 6.4不同。NPR-24968:CQ-4244235的修补程序
* （经典UI）无法向页面添加标记。 NPR-25255、NPR-25612：适用于 CQ-4249615 的修补程序
* HTML模板语言规范1.4功能支持AEM 6.4.2.0 NPR-24585
* 复制Live Copy页面后，本地组件上的继承错误。 NPR-25920：适用于 CQ-4236737/CQ-4248957 的修补程序
* ON/OFF时间存储在crx/de中，但在页面属性UI控制台中不会获取相同内容。 NPR-25154：适用于 CQ-4243431 的修补程序
* 样式系统将中断对话框的初始属性值。 NPR-25648：适用于 CQ-4250073 的修补程序
* 在cq:htmlTag节点中定义cq:tagName属性时，如果组件是通过JSP包含的，则不会考虑该标签名称。 NPR-24154：适用于 CQ-4244120 的修补程序
* 对于 Parsys 嵌套组件，始终从多个可用组件中应用第一个（具有最少的嵌套路径）令人满意的设计。有关更多信息，请参阅[设计路径解析](https://docs.adobe.com/content/help/zh-Hans/experience-manager-64/developing/platform/templates/page-templates-static.html)。NPR-24973：适用于 CQ-4246276 的修补程序
* 将文本粘贴到RTE组件时，将显示一个弹出对话框，但无法正确呈现。 NPR-24895：适用于 CQ-4245901 的修补程序
* (RTE)必填字段指示符的性能问题。 NPR-24894：适用于 CQ-4241895 的修补程序
* （页面组件）向Parsys添加组件时，会从右侧裁剪掉设备框架宽度。 NPR-25536：适用于 CQ-4238224 的修补程序
* 纯文本编辑器发送未裁切的数据并添加额外的空格。 NPR-25312：适用于 CQ-4249006 的修补程序
* 使用内嵌模式打开组件时，以前加载的插件在第二次时不可见。 NPR-24610：适用于 CQ-4236850 的修补程序
* 通过复制/粘贴在编辑器视图中加载XF不会自动加载主控变量。 NPR-24841：适用于 CQ-4248037 的修补程序
* siteadmin / damadmin中的HTML结构错误，会中断IE11。 NPR-24686：适用于 CQ-4246363/CQ-4248402 的修补程序
* （管理发布向导）在“激活”步骤中执行某些操作后，“选项”步骤中的发布日期日历未打开。 NPR-25681：适用于 CQ-4250205 的修补程序
* 由于已弃用，经典 UI 无法用于编辑 CUG。NPR-25075：适用于 4241823 的修补程序
* 创建选项不可用于创建体验片段。 NPR-26053：适用于 CQ-4249923 的修补程序
* 因此，XF变量将激活两次，从而为同一项生成重复ID。 NPR-24179：适用于 CQ-4245093 的修补程序
* Foundation 表容易遭受存储型跨站点脚本攻击。NPR-25185：适用于 CQ-4240760 的修补程序
* 将组件从AEM 6.2.1.13迁移到AEM 6.4时，“递归选择器值无效”错误。NPR-24146

**WCM - 页面编辑器**

* 由于长时间运行的查询（超过 6 个）而导致的多个堆叠式 Parsys 致使 AEM 运行缓慢。适用于 CQ-4240247 的修补程序
* 在cq:htmlTag节点中添加空cq:tagName时，JS错误。 适用于 CQ-4251852 的修补程序
* 根据columnClassNames重新定位更新EditableActions。 适用于 CQ-4250781 的修补程序
* 使用单个属性和属性公开资源和模型路径。 适用于 CQ-4251255 的修补程序
* 还原export.json API中断更改。 适用于 CQ-4251854 的修补程序
* (可编辑的SPA)1.0.0的候选发行版。CQ-4251991的修补程序
* 编辑任何一个组件时，编辑工具栏会对其他组件禁用。 适用于 CQ-4253270 的修补程序

**集成**

* 库和下载URL字段应可编辑。 NPR-24804：适用于 CQ-4246864 的修补程序
* 多个DTM配置的问题。 NPR-24685：适用于 CQ-4247293 的修补程序
* 增加了对托管客户端库的异步部署的支持。 NPR-25716：适用于 CQ-4245745 的修补程序
* 缺少相应优惠的目标组件渲染整个页面，而不是空的目标组件，将添加页面的另一个完整再现。 NPR-25273：适用于 CQ-4248003 的修补程序
* Target 引擎（mbox.js、at.js）不使用损坏的 URL，而是使用包含冒号的 URL，这在某些部署中可能会失败。NPR-25339：适用于 CQ-4237854 的修补程序
* （启动）LibraryDownloadProcess存储错误的libraryUri值。 NPR-25330：适用于 CQ-4250006 的修补程序

**平台**

* 重新索引循环 |在从6.3到6.4的就地升级过程中执行BinaryTextExtraction时执行NPE。Granite的修补程序 — 21677
* 跨边界覆盖内部标记路径/libs/cq/cloudserviceconfigs/templates/configpage/jcr:content — 运行模式检测器时的问题。 NPR-25036：适用于 CQ-4248597 的修补程序
* 由于LogEntryImpl中的NPE，未写入日志条目。 NPR-25627：适用于 Granite-22383 的修补程序
* 复制删除事件不会检查权限。 NPR-25679：适用于 CQ-4241234 的修补程序
* 在“Day CQ Mail Service”中添加了STARTLS支持。 NPR-25611：适用于 CQ-4249924 的修补程序
* granite.platform.login修复的主动支持可改进辅助功能。 NPR-25176:适用于Granite 21746和Granite-21309的修补程序
* (AEM 6.4)重新构建包并重新安装包时出错。 NPR-25173：适用于 CQ-4247939 的修补程序
* 删除了默认的MERGE_PRESERVE aclHandling。 NPR-24593：适用于 Granite-21889 的修补程序
* 在两次应用ContentDispositionFilter后，Content-Type在响应中未传播且缺失。 NPR-24175：适用于 Sling-7525 的修补程序
* 升级到AEM 6.4分支后，包管理器状态错误。 NPR-24551：适用于 Granite-21750 的修补程序
* AMS实例 — 错误日志分析。 适用于 CQ-4249567 的修补程序

**安全**

* SAML重新登录会使用Okta IDP重定向到注销页面。 NPR-25523：适用于 GRANITE-22364 的修补程序
* 通过OAK外部IDP OAuth提供者配置进行IMS身份验证会禁用在AEM中创建的用户。 NPR-25301：适用于 Granite-22363 的修补程序

**MAC - Test&amp;Target 集成**

* （定位）定位期间的文本组件错误。 适用于 CQ-4233343 的修补程序

**社区**

* （文件库）下载包含空格的资源会导致格式问题。 NPR-24260：适用于 CQ-4245159 的修补程序
* 修复了多个 Adobe Social 问题。NPR-24247：适用于 CQ-4245054、CQ-4245120、CQ-4245296 的修补程序
* 成员和组控制台的无限滚动失败，以防作者发布在不同的上下文路径上运行。 NPR-24437：适用于 CQ-4246013 的修补程序
* 即使从已回答状态中删除帖子时，帖子也不会返回到未回答状态，并且分数不会减少。 NPR-24419：适用于 CQ-4245797/CQ-4245932 的修补程序
* 使用社区中的日历功能添加的事件会输出错误的值。 NPR-24883：适用于 CQ-4244056 的修补程序
* （社区论坛）分页单击和页面加载行为的问题。 NPR-24880：适用于 CQ-4246109 的修补程序
* (Chrome)社区事件时区转换失败。 NPR-24881：适用于 CQ-4247115 的修补程序
* 无法在电子邮件中呈现嵌入对象。 NPR-24999：适用于 CQ-4248022 的修补程序
* 除了创建UGC外，还应在UGC更新时执行自动审核序列。 NPR-25892：适用于 CQ-4251399 的修补程序
* 组上的模态对话框响应度。 NPR-25623：适用于 CQ-4248805 的修补程序
* 内容删除时引发Solr异常。 NPR-25869：适用于 CQ-4248908 的修补程序
* 对于通知，指向具有大量帖子的线程的分页链接不起作用。 NPR-25678：适用于 CQ-4243038 的修补程序
* 搜索结果中的时间值显示服务器时间而不是客户端的时区。 NPR-25594：适用于 CQ-4248986 的修补程序
* （论坛评论）“浏览器后退”按钮未按预期工作。 NPR-25205：适用于 CQ-4248573 的修补程序
* （搜索结果）“浏览器后退”按钮未按预期工作。 NPR-25214：适用于 CQ-4248574 的修补程序
* 覆盖communitygroupmemberlist组件时返回null。 NPR-25228：适用于 CQ-4248523 的修补程序
* (Communities Calendar)在使用新的封面图像保存事件时生成ClassCastException。 NPR-25167：适用于 CQ-4248662 的修补程序
* （社区）消息被截断。 NPR-25326
* （AEM发布）Scorm资源在上下文路径下失败，显示空白屏幕。 NPR-26155：适用于 CQ-4251942 的修补程序
* (MSRP)新创建的日历将保存，并在错误日志中部分引发NPE。 NPR-26071：适用于 CQ-4250531 的修补程序
* 论坛/主题分页仅在刷新页面时更新。 NPR-26070、NPR-25965：适用于 CQ-4249509 的修补程序
* （问题与答案论坛）在打开指向评论的直接链接时，无法导航到上一页。 NPR-26069：适用于 CQ-4251699 的修补程序
* 在移动设备上无法在“创建”组中上传图像。 NPR-26172：适用于 CQ-4251703 的修补程序
* （消息）使用DSRP时，消息接收者的名称始终显示为“未知”。 NPR-26056：适用于 CQ-4251397 的修补程序
* “启用 Scorm 资源”完成状态标签在 UI 中显示为空。NPR-26034：适用于 CQ-4249994 的修补程序
* 在创建新社区组时，会在活动/活动的mongoMK群集上创建重复社区组。 NPR-26032：适用于 CQ-4245884 的修补程序
* （作者）组创建向导在向导中加载/创建组需要太长的时间。 NPR-26031：适用于 CQ-4244966 的修补程序
* 在hbs脚本中添加include语句时，Parsys会消失。 NPR-25908：适用于 CQ-4250489 的修补程序
* 启用“允许拥有权限的成员”后，拥有权限的成员应当只能为属于社区成员的用户撰写内容。NPR-25877：适用于 CQ-4248450 的修补程序
* 已阻止深层链接用于启用。 NPR-25966：适用于 CQ-4251478 的修补程序
* 论坛分页不会在删除回复时动态更新。 NPR-25970：适用于 CQ-4248975/CQ-4252843 的修补程序
* 对于嵌套注释，“自动滚动”和“高亮显示”在日历和文件事件上不起作用。 NPR-25958：适用于 CQ-4251471 的修补程序
* (DSRP)直接/深层链接性能因用户生成的内容数量过多而降低。 NPR-25957：适用于 CQ-4251470 的修补程序
* 无法修改允许特权成员和特权成员的属性。 NPR-26014：适用于 CQ-4244592 的修补程序
* 将all标记为读取会重置所有社区页面的通知计数器。 NPR-25931：适用于 CQ-4248612 的修补程序
* 编辑DSRP的IT失败。 NPR-25929：适用于 CQ-4251382 的修补程序
* 在构建电子邮件模板时，由于NPE，电子邮件IT出现故障。 NPR-26039：适用于 CQ-4250962 的修补程序
* 以非常高的分辨率嵌入图像时论坛线程问题。 NPR-26037：适用于 CQ-4244453/CQ-4253099 的修补程序
* 时间显示服务器时区与用户时区不同时的交换机。 NPR-26036：适用于 CQ-4248751 的修补程序
* 将同名文件附加到论坛帖子两次会导致服务器错误。 NPR-24172：适用于 CQ-4244367 的修补程序
* 支持性能修复 — 在创作和发布时分组分页、在创作时分组搜索、避免为日志、日历和构思序列化回复以及在查看组列表页面时延迟加载以获取每个组的组成员资格（邀请/取消邀请）按钮。 NPR-24538：适用于 CQ-4246515 的修补程序
* Enablement Resources在创作时不可见。 适用于 CQ-4252618 的修补程序
* 不会从未知用户中为线程生成通知。 适用于 CQ-4245132 的修补程序
* 组搜索不显示在左边栏上。 适用于 CQ-4252621 的修补程序
* （作者）分页在“组”控制台中不起作用。 适用于 CQ-4242786 的修补程序
* jQuery UI升级。 适用于 CQ-4248894 的修补程序
* 升级到最新的SCORM 2017.1版本。 NPR-25675：适用于 CQ-4240671 的修补程序
* 非社区用户可看到“代表撰写”字段。 NPR-25331：适用于 CQ-4247858 的修补程序
* 即使在删除后，帖子仍在UI中可见，并在控制台中显示错误。 NPR-26290：适用于 CQ-4252803 的修补程序
* （站点设置）可保存对角色所做的更改。 NPR-26274：适用于 CQ-4252187 的修补程序
* （安全漏洞）由于JSON Web令牌配置错误而导致的帐户接管。 NPR-26458：适用于 CQ-4253314 的修补程序
* 删除回复时不会重置分页。 NPR-26326：适用于 CQ-4252997 的修补程序
* 在编辑时，附件图像不显示在草稿中。 适用于 CQ-4253360 的修补程序
* 在关系数据库(DSRP)中附加附件时，页面不会刷新。 适用于 CQ-4253084 的修补程序
* 组在Enablement Site资源中不工作。 适用于 CQ-4252975 的修补程序
* 在Enablement中，不会保留入门项目学习路径。 适用于 CQ-4252948 的修补程序

**工作流**

* 工作流启动器UI不显示过去41个启动器配置，并在控制台中触发javascript错误。 NPR-25028：适用于 CQ-4247604 的修补程序
* 在不编辑其启动程序的情况下编辑旧工作流会导致在包含激活页面/资产步骤的任何工作流上创建多个工作流。 NPR-25870：适用于 CQ-4250896 的修补程序
* 如果页面具有元数据节点，则工作流有效负荷中的链接不正确。 NPR-25916：适用于 CQ-4250733 的修补程序

**翻译**

* 修复了导入已翻译项目会发出两个并发POST请求，因此会导致错误。 NPR-24889：适用于 CQ-4247638 的修补程序
* 修复了在为多语言创建翻译项目时，同一语言的所有页面都会添加到同一作业。 NPR-25091：适用于 CQ-4246112 的修补程序
* 修复了在某些情况下，翻译作业仅列表前40页的问题。 NPR-25974：适用于 CQ-4248661 的修补程序
* DataPicker组件(Coral2)不更改年份。 NPR-24466：适用于 Granite-21893 的修补程序

**UI — 基础**

* 主动式 Foundation UI 补丁包。NPR-24344、NPR-24345、NPR-25176、NPR-25095、NPR-24332、NPR-25653、NPR-25932、NPR-25935、NPR-25976
* （设计导入程序）导入页面时不会导入js，css。 NPR-25203：适用于 Granite-22236 的修补程序
* 主动式基础UI支持可提高产品的稳定性。 NPR-24334

**MAC - Test&amp;Target 集成**

* PersonalizationWizard(由“开始定位”启动)的第二页为空并引发控制台错误。 适用于 CQ-4253277 的修补程序

**体验片段**

* 将体验片段/目标集成合并到AEM 6.4.2.0。CQ-4248653的修补程序

**内容片段管理**

* 内容片段注释和内容片段版本的并排比较。 适用于 CQ-4247148 的修补程序

**DAM - 常规**

* 在搜索中，“检出者”筛选器无法正确工作。 适用于 CQ-4247070 的修补程序
* 执行资产更新工作流时，资产语言副本及其缩略图会变为空白。 适用于 CQ-4250641 的修补程序
* 重复-id:id属性值必须唯一。 适用于 CQ-4250905 的修补程序
* 标签：表单元素必须具有标签。 适用于 CQ-4250906 的修补程序
* 链接名称：链接必须有可辨认的文本。 适用于 CQ-4250907 的修补程序
* 端口文件夹元数据模板迁移JMX和ServiceUserMapping。 适用于 CQ-4252947 的修补程序
* WebdriverIO测试未在CQ/dam的release/640分支中运行。 适用于 CQ-4252749 的修补程序
* 如果链接已发布，则不会重构指向已移动资产的链接。 适用于 CQ-4245756 的修补程序

**DAM — 查看器**

* 使用新查看器5.10.1加载视频时出现间歇性错误。CQ-4250562的修补程序

**DAM-Brand门户**

* 从Brand Portal取消发布集合失败，出现错误。 适用于 CQ-4245990 的修补程序
* 无法从Brand Portal中取消发布图像预设。 适用于 CQ-4246140 的修补程序
* 在发布资产时，多页pdf文件的子资产不会被发布。 适用于 CQ-4245162 的修补程序

**DAM - DMClient**

* 将视频资产发布到YouTube时，导致YouTube的标记包括该标记的完整路径。 适用于 CQ-4245549 的修补程序
* （选择退出和选择加入升级）查看器CSS重定向问题。 适用于 CQ-4247854 的修补程序
* 无法创建/编辑查看器预设作为“管理员”组的非成员。 适用于 CQ-4247618 的修补程序
* (6.4.1.0)在多个parsys中添加多个视频会破坏视频播放器。 适用于 CQ-4248517 的修补程序
* 在图像集中重命名和移动资产意味着无法进行编辑。 适用于 CQ-4248434 的修补程序
* 将大型视频发布到YouTube会导致消息超时。 适用于 CQ-4237831 的修补程序
* (列表视图)资产选取器/选择器的用户界面将变为全灰色，并且对用户禁用。 适用于 CQ-4237817 的修补程序
* （垂直缩放）Css加载失败，出现404错误。 适用于 CQ-4236508 的修补程序
* 尝试下载资产名称中包含百分比(%)字符的资产时，会生成空存档。 适用于 CQ-4250558 的修补程序
* (卡片视图)在视频资产上使用复制和粘贴时，不会显示任何处理指示符。 适用于 CQ-4249037 的修补程序
* （从6.3.2升级到6.4）预升级图像预设在演绎版页面上显示为“未发布”，但在选择后不会生成URL按钮。 适用于 CQ-4240406 的修补程序
* 技术负债/次要增强。 适用于 CQ-4240648 的修补程序
* 资产选择器（或资产选取器）不会显示可用文件夹中的所有资产。 适用于 CQ-4218414 的修补程序
* 没有高度的图像预设显示大小不正确的图像。 适用于 CQ-4246546 的修补程序
* （多页资产）单击注释时，用户界面会断开。 适用于 CQ-4251434 的修补程序
* 从6.3升级到6.4及更高版本的Analytics预设后，将创建一个新的报表包和分析预设，以丢失用户较早的报告数据。 适用于 CQ-4244529 的修补程序
* （管理发布向导）在尝试发布或取消发布时，资产的列表显示为空。 适用于 CQ-4251881 的修补程序
* 在查看设置成员后选择查看器时，AVS视频无法播放。 适用于 CQ-4205308 的修补程序
* 预升级视频处理预设中不能添加新的视频编码预设，也不能编辑现有的编码预设。 适用于 CQ-4240407 的修补程序
* 图像预设不会应用于下载的动态演绎版。 适用于 CQ-4249862 的修补程序
* 在“查看器预设”列表页面上，“全选”按钮无法正确工作。 适用于 CQ-4252462 的修补程序
* 视频用户档案:“全选”按钮无法正常工作。 适用于 CQ-4253076、CQ-4251447 的修补程序
* SP2验证通过 — 烟道通过。 适用于 CQ-4251639 的修补程序

**DAM - DMServices**

* Dynamic Media Renditions无法为EPS文件生成。 适用于 CQ-4243688 的修补程序

**花岗岩**

* 捆绑SymbolicName中的Typo导致重复包。 适用于 Granite-22155 的修补程序
* CUGConfiguration不能选取CugExclude。 适用于 Granite-21109 的修补程序
* 重新启动Adobe Granite Workflow Core将从中间重新运行工作流步骤，创建不必要的工作流。 NPR-25057：适用于 Granite-22218 的修补程序
* JcrResourceBundle不正确支持多个基名。 NPR-25245：适用于 Granite-22317 的修补程序
* 在安装内容包时，ACL按主体分组，因此会破坏权限模型。 NPR-24583：适用于 Granite-21591 的修补程序
* 将Jetty更新到9.4.11以修复漏洞。 NPR-25030：适用于 Granite-22120 的修补程序

**表单**

AEM 6.4.2.0 Forms 的重要功能亮点包括：

* 添加了新属性，以便在不刷新浏览器的情况下更新队列。
* 为用户添加了对多个服务使用同一WSDL文件的功能。
* 从datepicker下拉列表中删除了不受支持的时间戳模式。
* 增加了在OSGI中为xfaf和pdf下铺的支持。
* 增加了在内部部署中使用[事务报表功能](https://docs.adobe.com/content/help/en/experience-manager-64/forms/transaction-reports/transaction-reports-overview.html)的支持。
* 在条件规则编辑器中添加了不显示子变量的代码。

**Forms 附加组件包**

**交易报告**

* 使用在发布服务器上配置的反向复制的重要性更新事务报告配置。 NPR-26050：适用于 CQ-4246650 的修补程序
* 延迟初始化周期刷新作业。 NPR-25968：适用于 CQ-4245024 的修补程序
* 事务记录失败，指针异常为空。 适用于 CQ-4247302 的修补程序

**表单 - 工作流**

* （HTML 工作区）用户声明任务后，将为该特定用户刷新队列计数，但不会为其他用户刷新队列计数，除非刷新页面。此问题已由新属性修复。 要将此新属性配置到您的AEM实例，请参阅其配置设置。 NPR-24536：适用于 CQ-4233665 的修补程序
* 无法在6.4上的AEM Forms应用程序中加载大型表单。NPR-24463:CQ-4245091的修补程序
* 尝试视图共享任务时，Mobile Workspace应用程序中出现的问题。 NPR-25177：适用于 CQ-4248733 的修补程序
* Web与APK之间的验证行为不一致。 NPR-25670：适用于 CQ-4248178 的修补程序
* 当对Web服务的调用在客户端中打开HTML5表单时，它将失败并返回一条错误消息。 NPR-26048：适用于 CQ-4244716 的修补程序
* 在AEM forms Windows应用程序6.3中调用服务时出现问题。NPR-26468:CQ-4252341的修补程序

**移动设备表单**

* （表单集）预览时的SSN和Mobile字段验证问题。 NPR-24458：适用于 CQ-4244983 的修补程序
* 在HTML预览中预填多行字段时不显示数据。 NPR-24549：适用于 CQ-4244212 的修补程序
* 在多行字段上评估脚本时，数据会丢失。 NPR-25333,CQ-4249610的修补程序

**Forms — 交互式通信和通信管理**

* 在具有基本模板和参考IC打印模板的IC上同步失败。 NPR-24912
* (CCR)验证程序不适用于字段/变量。 适用于 CQ-4245047 的修补程序
* “数据模型对象”图标会间歇性地在“文本编辑”工具栏上消失。 适用于 CQ-4245122 的修补程序
* 如果删除原始IC，则复制的IC上会显示异常日志。 适用于 CQ-4249378 的修补程序
* 在字母再现中，即使数据正确，条件也不会计算为true。 适用于 CQ-4245944 的修补程序
* 从内容树中进行选择时，不会突出显示自动生成的组件。 适用于 CQ-4246178 的修补程序
* 打开Web渠道模板编辑器时出现的问题。 适用于 CQ-4248182 的修补程序
* 无法更改添加的资产的顺序，因为向上/向下箭头仍处于禁用状态。 适用于 CQ-4252042 的修补程序
* 无法更新条件模块的属性。 适用于 CQ-4247909 的修补程序
* 当用户在Web渠道中重新排列对象时，需要改进“取消继承”对话框的UX。 适用于 CQ-4241076 的修补程序
* 使用直接信件 URL 时，不会填充与 XDP 中定义的绑定相对应的信件数据。适用于 CQ-4245833 的修补程序
* （缓存问题）Web渠道的同步不反映对布局片段、打印渠道的文本片段所做的更改。 适用于 CQ-4251460 的修补程序
* 无法更新布局片段和DD属性。 适用于 CQ-4247830 的修补程序
* (CCR)由于XML解析，草稿重装失败。 适用于 CQ-4250950 的修补程序
* （IC编辑器）“编辑片段”按钮应更易被发现。 适用于 CQ-4244694 的修补程序
* (XDP)在新创建的子表单中添加布局片段时将显示一个空白屏幕。 适用于 CQ-4248810 的修补程序
* DocumentFragment-主控-DeployWithServerSideTests测试失败。 适用于 CQ-4245496 的修补程序
* 文本模块变量“条件”模块中复制的实例。 适用于 CQ-4252128 的修补程序
* PDF预览URL在发布时不显示事务报告。 适用于 CQ-4246158 的修补程序
* IC同步与打印渠道到Web渠道同步相关的问题。 适用于 CQ-4251505 的修补程序
* EXM代码清理：删除LocalFunctionMapper。 适用于 CQ-4243265 的修补程序
* 更正IC的webChannel表组件的TableHeader的资源类型。 适用于 CQ-4251821 的修补程序
* （IC编辑器）可用性问题。 适用于 CQ-4241081 的修补程序
* 打印渠道子表单不显示插入功能。 适用于 CQ-4252994 的修补程序
* 删除FDM节点或变量占位符后，保持更改同步失败。 适用于 CQ-4253178 的修补程序
* （模板编辑器）基本模板在打开Web渠道时显示页眉/页脚附加的拖放区域和屏幕闪烁。 适用于 CQ-4253323 的修补程序
* 从内容树中进行选择时，不会突出显示自动生成的组件。 适用于 CQ-4246178 的修补程序

**文档服务**

* （表单服务）OSGI缺少对XFAF的支持。 NPR-25181,CQ-4251313的修补程序
* 汇编的PDF文件标题中的字符将出现乱码。 NPR-25113：适用于 CQ-4244682 的修补程序

**自适应表单**

* “发送邮件时提交操作”会引发异常，CC/BC字段为空。 NPR-25019：适用于 CQ-4243039 的修补程序
* 由于查询效率低下，无法使用OOTB AEM表单组件。 NPR-25065：适用于 CQ-4247256 的修补程序
* 从guideImageChoiceComponent的对话框节点中删除sling:orderBefore。 适用于 CQ-4245013 的修补程序
* （日期选取器）“编辑模式”不支持两种类型的时间戳模式。 适用于 CQ-4237982 的修补程序
* 使用“Forms Workflow”经典创作问题提交操作。 适用于 CQ-4236981 的修补程序
* (Web渠道)IC图表应从AF图表继承colspan属性。 适用于 CQ-4252143 的修补程序

**后端集成**

* （SOAP请求）大小数（超过6位）以指数表示法表示，导致验证错误。 NPR-25283：适用于 CQ-4248100 的修补程序
* 对复杂类型中定义的可选参数的验证不正确。 NPR-25070：适用于 CQ-4247107 的修补程序
* 为用户添加了对多个服务使用同一WSDL文件的功能。 NPR-24604,CQ-4247756的修补程序
* FDM在其SOAP调用中随机排布参数的顺序。 NPR-25069,CQ-4247180的修补程序
* FDM将实体(在列表/Array中)合并到SOAP请求中。 NPR-25284：适用于 CQ-4248375 的修补程序

**Forms JEE 安装程序**

**PDFG 服务**

* 安全设置的创建/修改功能不起作用。 NPR-24769：适用于 CQ-4246927 的修补程序
* Optimize PDF，方法是通过单个API调用有选择地取消嵌入字体。 NPR-23287

**文档服务**

* 输出服务不为辅助功能Reader提供正确的标签。 NPR-24438、NPR-24439、NPR-24440、NPR-24441:适用于CQ-4243849、CQ-4243845、CQ-4243852、CQ-4243853的修补程序

**Document Security**

* 使用文档安全性创建策略的问题。 NPR-25586、NPR-25547：适用于 CQ-4247086 的修补程序

**Forms - Foundation JEE**

* 间歇性地作为System Context帐户运行的进程。 NPR-25289、NPR-25313：适用于 CQ-4249331 的修补程序
* AEM Forms JEE受Apache Struts和Jackson数据绑定安全警报的影响。 NPR-25628：适用于 CQ-4242891 的修补程序
* 电子邮件开始点流程不起作用。 NPR-25253：适用于 CQ-4248518 的修补程序

**包含的功能包**

**资产**

* 添加了与Adobe Stock](/help/assets/aem-assets-adobe-stock.md)的[集成，以便用户可以直接从AEM用户界面搜索、预览、保存和许可Adobe Stock资源。 有关详细信息，请参阅[将Adobe Stock资产与AEM资产一起使用](https://docs.adobe.com/content/help/en/experience-manager-learn/assets/creative-workflows/adobe-stock.html)。 NPR-15779：适用于 CQ-30857 的修补程序
* 增加了对动态条件元架构的支持。 有关详细信息，请参阅[层叠元数据](/help/assets/cascading-metadata.md)。 NPR-25189：适用于 CQ-4237413 的修补程序
* 在内容片段上启用“资产下载”选项。 有关详细信息，请参阅[资产报表](/help/assets/asset-reports.md)。 NPR-25186：适用于 CQ-4237410 的修补程序
* 能够为资产文件夹设置元数据模式。 有关详细信息，请参阅[文件夹元数据模式](/help/assets/folder-metadata-schema.md)，并参阅AEM 6.4.2.0安装后的[配置设置](#configuration-settings-required-for-npr)。 NPR-21268：适用于 CQ-4221574 的修补程序

**站点**

* 允许编辑内容片段，但不具有删除权限。 有关详细信息，请参阅[自定义和扩展内容片段](https://docs.adobe.com/content/help/en/experience-manager-64/assets/fragments/content-fragments-delete.html)。 NPR-25793：适用于 CQ-4248750 的修补程序
* 添加了注释内容片段的功能。 有关详细信息，请参阅[Variations-Authoring Fragments](https://docs.adobe.com/content/help/en/experience-manager-64/assets/fragments/content-fragments-variations.html#annotating-a-content-fragment)。 NPR-25188：适用于 CQ-4235336 的修补程序
* 版本控制：并排比较内容片段。 有关详细信息，请参阅[管理内容片段](https://docs.adobe.com/content/help/en/experience-manager-64/assets/fragments/content-fragments-managing.html#comparing-fragment-versions)。 NPR-25187：适用于 CQ-4237412 的修补程序
* 支持AEM 6.4.2.0的图像编辑器增强功能。有关详细信息，请参阅[图像编辑器](https://docs.adobe.com/content/help/en/experience-manager-64/developing/components/image-editor.html)。 NPR-24467

**包含OSGI包和内容包**

AEM 6.4.2.0 中包含的 OSGi 包列表

[获取文件](assets/6.4.2.0_bundle-list.txt)

AEM 6.4.2.0 中包含的内容包列表

[获取文件](assets/6_4_2_0content-package-list.txt)

#### AEM 6.4.1.0 {#experience-manager-6410}

AEM 6.4.1.0是一个重要更新，包括自2018年4月AEM 6.4正式发布以来发布的性能、稳定性、安全性以及重要客户修复和增强功能。

AEM 6.4.1.0可安装在AEM 6.4 GA上。 Service Pack的一些关键亮点是：

* 内置存储库 (Apache Jackrabbit Oak) 已更新至版本 1.8.3。
* 引入了增强的智能标签。
* 在设计选取器和标记选取器中进行修复(将源VM和目标VM更改为自动。)
* 添加了对 TypeHint 的支持，可将值保存为字符串。
* 增加了邮件服务中对SMTP over TLS的支持。
* DMS7中HTTP转发器的代理处理修复。
* 更新至/etc/clientlibs/social/thirdparty/handlebars/source/handlebars.js版本1.3。
* 修复了DMHybrid选择退出和选择加入包中的问题。
* 智能裁剪中的修复。
* 将OOTB配置值迁移到新位置（从/etc迁移到/conf）。
* 为投放服务器上的客户设置添加了用户档案。
* 从/etc —&amp;gt迁移图像服务器设置；/conf.
* 添加了用于翻译的源内容片段。
* 为Print和PrintDialog添加了ARIA支持。
* 增加了电子邮件验证ARIA支持。
* 针对platform.clientlibs修复的主动支持。
* 在没有输入显式dataType时防止脚本自动执行（解决了CVE-2015-9251）。

**资产**

* 重新打开资产属性页面时，层叠下拉值显示为空。 NPR-23042：适用于 CQ-4238761 的修补程序
* 非管理员用户NPR-23044不能使用mylinkshare页面上的共享链接和指向该页面的链接：CQ-4239004的修补程序
* 要防止6.4.0中的DAM资产更新工作流中出现空指针异常，请执行以下操作：CQ-4244972的修补程序
* 已发布的WCM页面显示热点的占位符图标，OOTB查看器中缺少CSS文件（错误为403）。 NPR-23041：适用于 CQ-4233716 的修补程序
* (详细视图)“下一次/后退导航”功能在“动态演绎版”预览区域中保留DIV叠加，阻止访问查看器。 NPR-23043：适用于 CQ-4238499 的修补程序
* CMYK图像再现的饱和度不正确。 NPR-23048：适用于 CQ-4235470 的修补程序
* XMP metadata提取由Scene7ListInfoProvider进行的资源密集型。 NPR-23754
* (dam-投放)Http转发器不遵守HTTP代理设置。 NPR-24002：适用于 CQ-4244140 的修补程序

**站点**

* 在移动时重命名页面时，页面移动会成功，但重命名功能不起作用。 NPR-22923：适用于 CQ-4235907 的修补程序
* 发布指向 Adobe Campaigns 中的导入程序页面的 Live Copy 页面时出错。NPR-23053：适用于 CQ-4237164 的修补程序
* 在经典UI中移动/重命名失败，出现错误“移动页面时出错”，但未重命名。 NPR-23051：适用于 CQ-4235907 的修补程序
* 将内容从列视图切换为列表视图将呈现空白页面，并对设置为OffTime且OnTime为空的页面触发空指针异常。 NPR-22968、NPR-23052：适用于 CQ-4238940 的修补程序

**商务**

* 修复失败的核心Hobbes Testcase(CQ/Commerce Module)。 适用于 CQ-4253494 的修补程序

**漏洞**

* Salesforce 集成容易遭受服务器端请求伪造 (SSRF) 攻击。NPR-24289：适用于 CQ-4245277 的修补程序
* ReportingServicesProxyServlet中的服务器端请求伪造(SSRF)和跨站点脚本(XSS)。 NPR-24657：适用于 CQ-4246880 的修补程序
* 跨站点脚本(XSS):反映在商务createcatalogwizard.html/content中。 NPR-24642：适用于 CQ-4237017 的修补程序
* 管理员 UI 项目链接中存在跨站点脚本 (XSS) 漏洞。NPR-23272：适用于 CQ-4241795 的修补程序

**WCM - Foundation 组件**

* 打开“设计”选取器会导致空指针异常。 NPR-23047：适用于 CQ-4238736 的修补程序

**用户界面**

* (Coral3 Datepicker)添加对typeHint的支持以将值保存为“String”。 NPR-23398：适用于 Granite-21194 的修补程序
* 国际化翻译在语言级别不起作用。 NPR-22967,NPR-23046:适用于Granite-21111的修补程序
* granite.ui.commons修复的主动支持。 NPR-23537
* 针对granite.ui.co内容修复的主动支持。 NPR-23535
* 针对granite.ui.coralui修复的主动支持。 NPR-23538
* 无法同时从组中删除多个用户。 NPR-23846
* (OMEGA)仅以英文报告“功能”。 NPR-23989：适用于 Granite-21231 的修补程序
* （设计导入程序）导入页面时不会导入js、css。 NPR-25203：适用于 Granite-22236 的修补程序

**集成**

* com.day.cq.analytics.sitecatalyst 中的资源解析程序未关闭。NPR-22340：适用于 CQ-4236515 的修补程序
* 在长时间运行的查询期间，TargetContentImpl 致使 AEM 运行缓慢。NPR-22359：适用于 CQ-4236907 的修补程序
* Target 引擎（mbox.js、at.js）不使用损坏的 URL，而是使用包含冒号的 URL，这在某些部署中可能会失败。NPR-22434：适用于 CQ-4237854 的修补程序
* 在 Target 模式中，作者可以修改从 Blueprint 继承的组件，而无需取消继承。NPR-22865：适用于 CQ-4237907 的修补程序
* （个性化）切换到卡视图时，图标会变形。 NPR-23373、NPR-23374：适用于 CQ-4240018、CQ-4240019 的修补程序
* （个性化）受众控制台不显示nt:folder类型。 NPR-23375：适用于 CQ-4242293 的修补程序
* 在发布实例上定位某个组件后，系统会出现闪烁，显示默认体验位于目标体验之前。NPR-23415：适用于 CQ-4242038 的修补程序
* (Adobe IMS控制台)删除后，AccessTokenProvider OSGi服务配置将重新显示。 NPR-23520：适用于 CQ-4208250 的修补程序
* 配置引用复制因中间文件夹结构而失败。NPR-23485：适用于 CQ-4242751 的修补程序
* （个性化）clientlib被代理servlet阻止。 NPR-23521：适用于 CQ-4240995 的修补程序
* (Adobe IMS控制台)注册的云解决方案不会在配置向导中被选取。 NPR-23977：适用于 CQ-4244549 的修补程序
* 在没有HTML扩展的页面上加载目标内容时无限循环。 NPR-23522：适用于 CQ-4223600 的修补程序
* 对于具有继承的动态标签管理配置引用的页面，激活失败。 NPR-23485：适用于 CQ-4242751 的修补程序

**平台**

* （经典UI）（触屏UI）当尝试通过资产搜索模式中的标记谓词浏览标记时，标记选取器不显示并引发异常。 NPR-23049：适用于 CQ-4239371 的修补程序
* （经典UI）使用xtype=tags的组件返回null，无法从标记的列表中选择。 NPR-23050：适用于 CQ-4239937 的修补程序
* （品牌）选择加入对话框提到Adobe Marketing Cloud而不是Adobe Experience Cloud。 NPR-23210：适用于 CQ-4237799 的修补程序
* Filter选项使AEM在从6.3升级到6.4后变得迟钝。NPR-23260:CQ-4239847的修补程序（待检查）
* 针对granite.omnisearch.core修复的主动支持。 NPR-23536
* 针对platform.clientlibs修复的主动支持。 NPR-23569
* Cloud Service配置继承在编辑其他页面属性时断开。 NPR-23216：适用于 CQ-4239782 的修补程序
* 在Day CQ邮件服务中启用了STARTTLS支持。 NPR-23941：适用于 CQ-4240397 的修补程序

**项目**

* （内容片段）将英文资产添加到翻译时，不会创建嵌入资产的语言副本。 适用于 CQ-4243477 的修补程序
* msft配置下拉列表在旧模式下显示来自/libs（6.4配置）而不是来自/etc（6.3配置）的配置。 适用于 CQ-4243475 的修补程序
* 在翻译项目中自动提升和删除翻译启动项。 适用于 CQ-4243474 的修补程序
* 未翻译站点内的内容片段。 适用于 CQ-4243482、CQ-4243483、CQ-4245687 的修补程序
* 打开转换作业搜索筛选器时发生服务器错误。 适用于 CQ-4236813 的修补程序
* 即使在/conf/we-retail中存在Credential配置下拉列表时，它仍为空。 适用于 CQ-4236315 的修补程序
* 打开项目KPI:创建更多项目时性能降级。 NPR-23840：适用于 CQ-4238392 的修补程序
* 工作流启动程序无法接受字符串的 TypeHint 值。NPR-23863：适用于 CQ-4238356 的修补程序

**社区**

* Handlebars版本1.0中的安全漏洞。 NPR-23636：适用于 CQ-4243055 的修补程序
* 标记消息的批量允许无效。 NPR-23867：适用于 CQ-4243962 的修补程序
* 论坛组件中的排序按钮上不显示默认值。 NPR-23882：适用于 CQ-4243375 的修补程序
* 从社区站点到组的消息投放问题。 NPR-23935

**工作流**

* Day CQ 工作流电子邮件通知服务会在每个 Mongo 节点为 WorkflowCompleted 通知和 WorkflowAborted 通知触发一封电子邮件。NPR-22515：适用于 CQ-4238172 的修补程序
* 运行DAM更新资产工作流会引发NullPointerException。 NPR-23010：适用于 Granite-21096 的修补程序
* 工作流进程步骤不显示/etc/workflow/scripts中的脚本。 NPR-23263：适用于 Granite-20775 的修补程序
* 工作流动态参与者步骤不显示/apps/workflow/scripts中的脚本。 NPR-23464：适用于 Granite-21276 的修补程序
* 一次编辑后无法编辑任何工作流。 NPR-23742：适用于 CQ-4238526 的修补程序
* （经典UI）在编辑工作流启动器时，这些条件会消失，导致工作流在没有任何条件的情况下启动。 NPR-23835：适用于 CQ-4239153 的修补程序
* 项目收件箱：切换到日历视图显示主收件箱内容。 NPR-23947：适用于 CQ-4241236 的修补程序
* 需要在捆绑包中显示有效负荷详细信息，以便HTL组件可以在列表视图中显示值。 NPR-23948：适用于 CQ-4240953 的修补程序
* 无法在对话框参与者步骤中存储对话框数据。 NPR-23965：适用于 CQ-4234123 的修补程序
* （触屏UI）保存工作流模型时，“同步”按钮将更改为“同步”，从而导致拼写错误。 适用于 CQ-4244843 的修补程序
* 项目收件箱：切换到日历视图显示主收件箱内容。 适用于 CQ-4244436 的修补程序
* 无法在对话框参与者步骤中选择对话框。 适用于 CQ-4244532 的修补程序
* 针对granite.omnisearch.core修复的主动支持。 NPR-23536
* Mobile Workspace App 6.4中共享任务的问题。 NPR-26383

**WCM — 翻译**

* （参考面板）在项目创建期间，不会执行翻译作业。 适用于 CQ-4245327 的修补程序

**WCM - MSM**

* (MSM)转出性能改进。 适用于 CQ-4231488 的修补程序
* (MSM)实际发生的事件监听与事件处理之间的事件监听时隙。 适用于 CQ-4227766 的修补程序

**屏幕**

* 由于screens-core-pkg:1.4.42的依赖项缺失，屏幕页面失败，出现错误。CQ-4245918的修补程序

**项目 — 翻译**

* （内容片段）将英文资产添加到翻译时，不会创建嵌入资产的语言副本。 适用于 CQ-4243477 的修补程序
* msft配置下拉列表显示的配置来自/libs（6.4配置），而不是来自/etc（6.3配置）（在旧模式下）。 适用于 CQ-4243475 的修补程序
* 在翻译项目中自动提升和删除翻译启动项。 适用于 CQ-4243474 的修补程序
* 未翻译站点内的内容片段。 适用于 CQ-4243482、CQ-4243483、CQ-4245687 的修补程序
* 打开转换作业搜索筛选器时发生服务器错误。 适用于 CQ-4236813 的修补程序
* 即使在/conf/we-retail中存在Credential配置下拉列表时，它仍为空。 适用于 CQ-4236315 的修补程序

**内容片段管理**

* 删除组件将填充包含堆栈跟踪的日志。 适用于 CQ-4242315 的修补程序

**DAM - 常规**

* 关闭资产的详细信息视图会返回错误的搜索结果页。 适用于 CQ-4240960 的修补程序
* (Camera Raw)缺少图像调整选项。 适用于 CQ-4246121 的修补程序
* IndexOutOfBoundsException:“OOTB资产修改”报表。 适用于 CQ-4239744 的修补程序
* 从报表csv中删除置信度得分。 适用于 CQ-4241491 的修补程序
* 链接共享电子邮件投放为非“管理员”发件人断开。 适用于 CQ-4240357 的修补程序
* 修复IT故障。 适用于 CQ-4249891 的修补程序

**DAM - Brand Portal**

* 资产属性仅列表第一个选项卡上的3个属性，其余所有选项卡都显示为空。 适用于 CQ-4242503 的修补程序
* 文件类型和文件大小谓词在已发布的搜索表单中不可用。 适用于 CQ-4242026 的修补程序
* “在目录中搜索”谓词应过滤掉/不显示在搜索过滤器中。 适用于 CQ-4241386 的修补程序
* 取消发布后，应存在默认的搜索来源。 适用于 CQ-4241383、CQ-4241113 的修补程序
* 对于图像预设，发布到品牌门户手势不起作用。 适用于 CQ-4241074 的修补程序
* 发布到品牌门户无法用于集合。 适用于 CQ-4241122、CQ-4246558 的修补程序

**DAM - DM 客户端**

* 升级到6.4将删除之前创建的视频编码用户档案。 适用于 CQ-4244067 的修补程序
* 在Dynamic Media组件中，替换文本属性被断开。 适用于 CQ-4244081 的修补程序
* (DMS7)在Scene7中不覆盖在AEM中编辑远程集。 适用于 CQ-4243430 的修补程序
* 6.4 SP1在DM Hybrid上的验证。 适用于 CQ-4244623 的修补程序
* (DMS7-UA)单击已发布视频资产的“嵌入”按钮时，不会发生任何情况。 “嵌入”对话框应显示HTML代码。 适用于 CQ-4245237 的修补程序
* （DM混合）已发布视频资产或混合媒体集的复制URL在“URL”对话框中获得“`[object Object]`”。 适用于 CQ-4245236、CQ-4245451 的修补程序
* (DMHybrid)视频的“详细信息”视图页面不包含视频资产显示的预览，并向控制台输出错误消息。 适用于 CQ-4244320 的修补程序
* we.retail内容的自动S7编码。 适用于 CQ-4242253 的修补程序
* 预升级视频处理预设不能添加新的视频编码预设，也不能编辑现有的编码预设。 适用于 CQ-4240407 的修补程序
* 预升级图像预设在演绎版页面上显示为“未发布”，并且不会生成URL。 适用于 CQ-4240406 的修补程序
* (CSS)资产会显示 — 但使用的查看器是默认查看器，而不是OOTB查看器。 适用于 CQ-4239839 的修补程序
* 已禁用清理步骤挂起手动执行和使用私有珊瑚类。 适用于 CQ-4239729 的修补程序
* 图像查看器正在生成错误，无法显示正确的智能裁剪。 适用于 CQ-4237564 的修补程序
* 在保存时，/etc下的旧预设似乎已损坏且未迁移到/conf下的位置。 适用于 CQ-4237416 的修补程序
* OOB VideoViewer 5.8.x中的回归 — 查看器向右展开iframe，从而中断页面布局。 适用于 CQ-4235465 的修补程序
* (DMS7)对于尚未发布的图像，智能裁剪再现URL和嵌入按钮处于活动状态。 适用于 CQ-4233696 的修补程序
* (DMHybrid)恢复以前的裁剪/旋转功能。 适用于 CQ-4239489 的修补程序
* 在卡片视图中预览视频时，播放按钮不会切换到暂停。 适用于 CQ-4238592 的修补程序
* 执行加入升级时，YouTube配置不会从其旧位置移动/复制到新位置。 适用于 CQ-4238590 的修补程序
* DropTwo OOTB AVS视频处理用户档案列在“文件夹属性”下，只有一个包含定义的编码。 适用于 CQ-4238096 的修补程序
* (DMS7)智能裁剪：详细视图:URL按钮标记为“复制”按钮。 适用于 CQ-4237804 的修补程序
* 即使在执行curl命令后，“查看器预设”列表页面仍保留为空。 适用于 CQ-4243246 的修补程序
* 已禁用清理步骤挂起手动执行和使用私有珊瑚类。 适用于 CQ-4239729 的修补程序
* “视频报表详细信息”页面不显示视频资产。 适用于 CQ-4246208 的修补程序

**DAM - DMS服务**

* (DMS7)云配置：更新到SP1后，无法将新内容与Scene7同步。 适用于 CQ-4244437 的修补程序
* (DMHybrid)颜色用户档案和目录设置未在debug_info=catalog调用中注册。 适用于 CQ-4242346 的修补程序
* 向投放服务器上的客户设置添加用户档案。 适用于 CQ-4241818、CQ-4241819 的修补程序
* (DMHybrid)6.3安培；gt；之后6.4升级后，目录设置将移至不正确的节点。 适用于 CQ-4239974、CQ-4239975 的修补程序
* (DMHybrid)pushviewerpresets脚本不创建修改目录设置所需的节点。 适用于 CQ-4240076 的修补程序
* 当使用“格式”下拉选择并选择PNG或JPG格式时，下载的文件显示为超饱和且比原始资源暗。 适用于 CQ-4240073 的修补程序
* (DMS7)删除MIME类型映射：image_x-eps。 适用于 CQ-4240394 的修补程序
* (DMS7)挖空背景的上载参数不会传递ipsApiService.log，因此，无法工作。 适用于 CQ-4240686 的修补程序
* 升级在6.3到6.4实例中创建的图像处理用户档案会中断“裁剪类型”属性。 适用于 CQ-4237739 的修补程序
* (Dynamic Media)smartcrop文件夹外的常规资产上传失败。 适用于 CQ-4237670 的修补程序
* 将“自适应视频编码”用户档案名称的用户档案回退代码调整为“自适应视频编码”。 适用于 CQ-4237666 的修补程序
* 对于 Ptiff 生成流程，EmbedXMP 数据始终设置为“活动”。适用于 CQ-4234498 的修补程序
* CMYK图像再现的饱和度不正确。 适用于 CQ-4235470 的修补程序
* 映像服务器设置不会复制到投放，而复制日志会标记它们成功。 适用于 CQ-4239480、CQ-4239046 的修补程序
* (DMS7)无法使用对云配置的旧/新引用创建集。 适用于 CQ-4238078 的修补程序
* Scene7工作流步骤仅读取名称和说明中的Scene7，但未阐明DAM更新工作流中的工作流步骤。 适用于 CQ-4237865 的修补程序

**DAM — 智能标记**

* 引入了[增强的智能标签](https://docs.adobe.com/content/help/en/experience-manager-64/assets/administer/enhanced-smart-tags.html)。 NPR-21951

**表单**

通过发行版附带的附加组件包和其他补丁安装程序提供 AEM Forms 修补程序。有关详细信息，请参阅 AEM Forms 发行版。

AEM Forms 的主要功能亮点包括：

* AEM Forms引入了[事务报表功能](https://docs.adobe.com/content/help/en/experience-manager-64/forms/transaction-reports/transaction-reports-overview.html)来跟踪和记录已提交表单、已处理文档和在AEM Forms部署中呈现的文档等事务。 它提供有关产品使用情况的洞察，并帮助企业用户了解数字处理量。
* 支持对XML表单的PDF/UA支持。
* 为Clientlib **aemfd.ccm.渠道.contentpage**&#x200B;添加了allowProxy = true
* 更新的代码，以使高级标题搜索包含而非相等。
* 更新到Continuous Integration Machine上新版Node Package Manager(NPM)。

**Forms 附加组件包**

**后端集成**

* 当为可选字段提供null值时，将生成一个错误。 NPR-24397
* 当元素具有除全局命名空间之外的其他命名空间时，WSDL调用将失败。 NPR-24281
* (FDM WSDL)获取Dermis异常：属性类型数组中的列表数据除外。 NPR-24265
* (FDM WSDL)获取Dermis异常：java.lang.异常：createSOAPParam:无效参数。 NPR-24264
* （FDM客户端SDK）无法测试预处理器/后处理器和自定义提交操作。 适用于 CQ-4238469 的修补程序
* 修复Dermis中的Javadoc问题。 适用于 CQ-4244250 的修补程序
* Web服务描述语言(WSDL)中的增强输入。 适用于 CQ-4244133 的修补程序
* 对WSDL进行基本身份验证测试时，AEM 6.3和AEM 6.4中的相同配置会导致不同错误。CQ-4244132的修补程序
* 请求将ValueUtil包含在client-sdk和javadocs中。 适用于 CQ-4242803 的修补程序
* （FDM云配置）无法从云配置配置基于SOAP的身份验证。 适用于 CQ-4238462 的修补程序
* Dermis — 在Javadocs中添加缺少的包。 适用于 CQ-4242815 的修补程序
* WSDLInvokerParams将包含在Forms Add-On客户端sdk中。 NPR-23381：适用于 CQ-4240233 的修补程序

**自适应表单**

* 文档(IC)再现应使用事务记录服务作为事务记录。 适用于 CQ-4245333 的修补程序
* 执行UAT5时，在验证阶段生成的pdf缺少一个条目。 适用于 CQ-4243184 的修补程序
* guideContext的深度副本测试案例。 适用于 CQ-4242924 的修补程序
* 在最新升级的服务器上执行UAT3时，验证类型字段缺失。 适用于 CQ-4243120 的修补程序
* 在升级的服务器上，提交的表单缺少升级前服务器上存在的州/省/地区和国家/地区值。 适用于 CQ-4241444 的修补程序
* (ExpressionEditor)在提交表单期间导航到验证阶段时出错。 适用于 CQ-4241384 的修补程序
* 提交表单的预升级和升级服务器的验证阶段缺少值。 适用于 CQ-4241896 的修补程序
* 退出并保存页面底部的按钮不起作用。 适用于 CQ-4240112 的修补程序
* 升级设置上缺少联系人号码。 适用于 CQ-4239870 的修补程序
* 在“争议类型”选项卡的`ACTION TAKEN`部分下，“支持我的索赔的其他文档”中保存了其他字段验证类型“”。 适用于 CQ-4239873 的修补程序
* 在verifyPdf阶段遇到“getDataAPI错误”错误。 适用于 CQ-4239865 的修补程序
* 创作和发布实例的迁移日志中出错。 适用于 CQ-4239365 的修补程序
* 创作和发布实例的迁移日志中出错。 适用于 CQ-4239635 的修补程序
* 在记录自适应表单的提交后的错误日志中，发生反序列化错误，如“不允许对sun.util.calendar.ZoneInfo类执行反序列化”。 适用于 CQ-4240419 的修补程序
* 状态字段未在移动表单再现中填充。 适用于 CQ-4240597 的修补程序
* 从反图案列表中删除模板中组件的引用用法。 适用于 CQ-4239217 的修补程序
* 设置为“浮动”或“小数”的HTML5数值框在不同浏览器中给出不同的验证结果。 NPR-23528：适用于 CQ-4244097 的修补程序
* （图像上传）图像未在DOR预览中显示。 适用于 CQ-4243178 的修补程序
* JEE服务器在尝试提交带有“电子邮件PDF”和“包含附件”的自适应表单时引发错误。 适用于 CQ-4239894 的修补程序
* 图表在运行时未使用表/面板绘制。 适用于 CQ-4240010 的修补程序
* 自适应表单提交不起作用，并且由于提交失败，事务计数没有更改。 适用于 CQ-4246125 的修补程序
* （图像选择）不显示记录选项的文档。 适用于 CQ-4236976 的修补程序
* 模板编辑器UI不稳定。 适用于 CQ-4241497 的修补程序
* AF不使用侧面板的“资源”选项卡显示，而使用AEM表单组件属性对话框的浏览选项显示。 适用于 CQ-4236751 的修补程序
* 为表单转换生成的工作流ID应在生成的自适应表单中可用。 适用于 CQ-4240014 的修补程序
* 无法选择模板在直接升级时的站点中创建页面：Livecycle到6.4服务器。 适用于 CQ-4241300 的修补程序

**汇编程序服务**

* Assembler Services中的事务记录。 适用于 CQ-4245018、CQ-4245017、CQ-4245016 的修补程序.
* 使用DDX完成PDF/A转换时，不会报告事务。 适用于 CQ-4246039 的修补程序

**表单管理器**

* FM CREATE按钮列表，按字母顺序排序。 适用于 CQ-4242307 的修补程序

**表单门户**

* 在升级前服务器上保存的草稿在升级后的服务器上未正确打开。 适用于 CQ-4243303 的修补程序
* 对于adobe-formsmanager-core-module，版本更新至7.1。 适用于 CQ-4245753 的修补程序
* 在升级前服务器上保存的草稿在升级后的服务器上未正确打开。 适用于 CQ-4243303 的修补程序
* 在草稿的新实例/同一实例中替换/添加/删除附件时，附件方案会中断。 适用于 CQ-4243165 的修补程序
* 从查询数据库中检索的草稿计数大于门户中存在的草稿计数。 适用于 CQ-4241489 的修补程序
* 在预升级服务器上提交的Forms在升级后的服务器上不存在。 适用于 CQ-4241490 的修补程序
* 尽管提交消息成功，但在UI中“提交”选项卡中显示的表单仍处于“未提交”状态。 适用于 CQ-4241487 的修补程序
* guideContext应通过深层复制字段来形成，因为guideContext包含本身是对象的customPropertyMap。 适用于 CQ-4240126 的修补程序
* 尝试保存表单时出错。 适用于 CQ-4240763 的修补程序
* 尽管在Forms门户草稿和提交配置中提供了数据库配置，但已保存和提交表单的条目仍将填充crx/de。 适用于 CQ-4240726 的修补程序
* （搜索和制表人）高级搜索标题固定值应包含而非相等。 适用于 CQ-4245499 的修补程序

**移动设备表单**

* 日期字段在移动Forms中重叠。 适用于 CQ-4242256 的修补程序
* Mobile Forms的表单提交应使用事务记录服务作为事务记录。 适用于 CQ-4246166 的修补程序
* 应使用事务记录服务将表单提交到表单集作为事务记录。 适用于 CQ-4246165 的修补程序

**AEM Forms 应用程序**

* （Windows应用程序）无法渲染表单。 适用于 CQ-4238005 的修补程序

**工作流OSGI**

* 工作流分配任务中的事务记录。 适用于 CQ-4244440 的修补程序
* （FDM步骤）在流程步骤和fdm步骤之间插入分配任务步骤时，无法使用工作流元数据中的值。 适用于 CQ-4241472 的修补程序
* 在OSGI工作流中的Forms集成中，分配任务的委派不起作用。 NPR-23709：适用于 CQ-4243700 的修补程序
* （工作流模型编辑器）某些工作流模型无法通过经典UI WF模型编辑器进行编辑。 适用于 CQ-4241151 的修补程序

**多通道文档**

* 模板中的日期字段与IC创作中的子表单重叠。 适用于 CQ-4240110 的修补程序
* 在IC Web渠道创作中，不应允许删除或上下移动标头。 适用于 CQ-4243358 的修补程序
* （IC编辑器）表组件的默认行设置为1。 适用于 CQ-4244848 的修补程序
* 目标区域，即使在将内容拖放到该区域后仍可见。 适用于 CQ-4244534 的修补程序
* Web渠道无法识别文本文档片段中的制表符空间。 适用于 CQ-4244481 的修补程序
* (打印渠道)文档(IC)再现应使用事务记录服务作为事务记录。 适用于 CQ-4245335 的修补程序
* (Web渠道)文档(IC)再现应使用事务记录服务作为事务记录。 适用于 CQ-4245334 的修补程序
* 文档容器搜索或数据模型树搜索必须与资产筛选器搜索统一。 适用于 CQ-4242305 的修补程序
* (文档片段)缩进属性按无法理解的单位缩进文本。 适用于 CQ-4241082、CQ-4240643 的修补程序
* （IC编辑器）在“资源”标签下列出的文档片段拼贴上的“编辑片段”图标不容易发现和理解。 适用于 CQ-4241047 的修补程序
* 允许匿名访问IC不可访问的匿名客户端库。 适用于 CQ-4245588 的修补程序
* (Web渠道)数据不解析在Web预览中的任何表中，显示为空。 适用于 CQ-4244476 的修补程序
* 自动生成时，表头在Web渠道中显示为变量。 适用于 CQ-4244242 的修补程序
* （IC编辑器）IC中使用的文档片段的内容应自动重新调整大小以适合目标区域的宽度。 适用于 CQ-4244094 的修补程序
* 中间顶部显示的渠道名称必须与WEB/PRINT的IC标题一致。 适用于 CQ-4242498 的修补程序
* 文本编辑器数据对象面板应仅列表顶级实体，CQ-4244121的修补程序
* 在编辑器中添加新组件时，不分配默认名称。 适用于 CQ-4244691 的修补程序
* 在所有Web渠道组件中添加Colspan配置。 适用于 CQ-4244946 的修补程序
* 布局片段表宽度属性未在字母或客户通信打印渠道中重置和接受。 适用于 CQ-4241574 的修补程序

**通信管理**

* 编辑包含占位符的文本资产后从字母模板中删除的字幕。 NPR-24196
* 上传XDP文件并用作字母模板的布局时，无法预览或编辑模板。 NPR-24143：适用于 CQ-4244407 的修补程序
* 默认情况下，在列表片段中选择分配选择。 适用于 CQ-4240097 的修补程序
* 条件编辑器 — 默认情况下应启用多个结果评估。 适用于 CQ-4240096 的修补程序
* 从列表删除后的图像仍显示预览中的图像。 适用于 CQ-4239909 的修补程序
* 条件模块上的规则集对于所有模块都设置为“默认”。 适用于 CQ-4239878 的修补程序
* 数据字典创建失败，出现“未知JCR异常”错误。 适用于 CQ-4244122 的修补程序
* 6.3内容JavaDocs中的间隙。 适用于 CQ-4213586 的修补程序

**Forms JEE 安装程序**

**核心**

* （HTML工作区）名称中带有括号符号的应用程序缺少跟踪详细信息。 NPR-23402

**PDFG 服务**

* 在PDFG服务中记录事务。 适用于 CQ-4244951、CQ-4244586 的修补程序
* 通过单个API调用有选择地取消嵌入字体来减少PDF。 NPR-23287
* PDFG配置在AEM升级时更新问题。 适用于 CQ-4241176 的修补程序
* PDFUtility服务中的事务记录。 适用于 CQ-4245014 的修补程序

**进程管理**

* （HTML 工作区）进程起点未按字母数字顺序排序。适用于 CQ-4239629 的修补程序
* （HTML工作区）在首次打开草稿时，准备出现两次数据调用。 适用于 CQ-4243280 的修补程序
* （HTML工作区）关闭表单时将触发准备数据进程。 适用于 CQ-4239456 的修补程序
* 当两个任务之间遍历时，工作空间会挂起。 适用于 CQ-4237125 的修补程序

**Workbench**

* 管理操作用户档案当默认渲染过程配置设置为HTML时，准备数据过程失败。 适用于 CQ-4244292 的修补程序

**Forms Designer**

* 对通过 Designer 和输出服务生成的 XML 表单添加 PDF/UA 支持。NPR-23022
* 从 Designer 中另存为 PDF 时，Designer 中定义的内嵌超链接既不会被标记，也不会显示替代文本。NPR-23023

**包含的功能包**

**资产**

* 添加了增强智能标记功能。 有关详细信息，请参阅[增强的智能标签](https://docs.adobe.com/content/help/en/experience-manager-64/assets/administer/enhanced-smart-tags.html)。 NPR-21951：适用于 CQ-4234883 的修补程序
* 在InDesign中引入了AEM Assets参考。 有关详细信息，请参阅InDesign](/help/assets/managing-linked-subassets.md)中的[AEM Assets引用。 NPR-23386

**站点**

* （页面创作）图像编辑器增强功能。 有关详细信息，请参阅[图像编辑器](https://docs.adobe.com/content/help/en/experience-manager-64/developing/components/image-editor.html)。 NPR-24267：适用于 CQ-4245502 的修补程序

**包含的 OSGi 包和内容包**

以下文本文档列出了 CFP 中包含的 OSGi 包和内容包。

AEM 6.4.1.0 中包含的 OSGi 包列表

[获取文件](assets/6_4_1_0_bundle-list.txt)

AEM 6.4.1.0 中包含的内容包列表

[获取文件](assets/6_4_1_0_content-package-list.txt)

### 安装6.4.8.0 {#install}

#### 设置要求 {#setup-requirements}

<!--

>[!NOTE]
>
>For successful installation of AEM 6.4.6.0 on the instance, it is strongly recommended to upgrade the version of com.adobe.granite.oak.s3connector to 1.8.4 for the customers who are on the older version of s3 connector.
>The process of upgrading the com.adobe.granite.oak.s3connector is available at [https://helpx.adobe.com/in/experience-manager/6-4/sites/deploying/using/data-store-config.html](https://helpx.adobe.com/in/experience-manager/6-4/sites/deploying/using/data-store-config.html).
>Download the latest version of com.adobe.granite.oak.s3connector from: [https://repo.adobe.com/nexus/content/groups/public/com/adobe/granite/com.adobe.granite.oak.s3connector/](https://repo.adobe.com/nexus/content/groups/public/com/adobe/granite/com.adobe.granite.oak.s3connector/)

-->

>[!CAUTION]
>
>对于安装在AEM 6.4上的功能包的客户。Adobe提供的可选功能包与发行版和服务包有依赖关系。 如果您安装了任何功能包，请联系AEM客户关怀团队，以验证这些功能包与适用于AEM 6.4的此服务包的兼容性。

* AEM 6.4.8.0需要AEM 6.4。有关详细信息，请参阅[升级文档](../sites-deploying/upgrade.md)。
* 可在[软件分发门户](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html)上下载Service Pack。
* 在具有 MongoDB 和多个实例的部署中，使用包管理器在其中一个 Author 实例上安装 AEM 6.4.8.0。
* 在安装 Service Pack 之前，请确保具有 AEM 实例的快照或全新备份。
* 安装之前请重新启动该实例。尽管仅当实例仍处于更新模式时才需要这样做（这种情况下该实例刚从较早版本更新），但通常建议该实例在更长时间内运行。

>[!NOTE]
>
>Adobe 建议不要移除或卸载 AEM 6.4.8.0 包。

### 通过包管理器{#install-the-service-pack-via-package-share}安装Service Pack

执行以下步骤以在现有 AEM 6.4 实例上安装 Service Pack：

1. 从“软件分发”下载包。

1. 在AEM中，登录到包管理器并添加下载的AEM 6.4.8.0包。 选择已上载的包，然后单击&#x200B;**[!UICONTROL 安装]**。

>[!NOTE]
>
>**包管理器 UI 中的对话框有时会在 AEM 6.4.8.0 的安装过程中退出**
>
>因此，建议在访问该实例之前先等待错误日志稳定下来。在确保安装成功之前，用户必须等待与卸载更新程序包相关的特定日志。这通常出现在 Safari 中，但也可能会间歇性发生在任何浏览器中。

### 自动安装 {#auto-installation}

可通过两种方法将 AEM 6.4.8.0 自动安装到正在运行的实例上：

答：将包放入……*/crx-quickstart/install* 文件夹中。包会自动进行安装。

B.使用包管理器](https://helpx.adobe.com/cn/experience-manager/aem-previous-versions.html)中的[ HTTP API — 确保使用`cmd=install&recursive=true` — 以便安装嵌套的包。

>[!NOTE]
>
>AEM 6.4.8.0 不支持 Bootstrap 安装。

### 验证安装 {#validate-install}

1. “产品信息”页(*/system/console/productinfo *)现在应在“已安装产品”下显示更新的版本字符串“Adobe Experience Manager, Version 6.4.8.0”。
1. 所有 OSGi 包在 OSGi 控制台中均为“活动”或“片段”（使用 Web 控制台：/system/console/bundles）。
1. OSGI捆绑包org.apache.jackrabbit.oak-core在版本1.8.17或更高版本上(使用Web控制台：/system/console/bundles)。

要确定与此版本AEM Sites和资产一起运行的认证平台，请参阅[技术要求](../sites-deploying/technical-requirements.md)。

>[!NOTE]
>成功安装包时，将显示一条>informational消息，指示内容>包已成功安装，如&#x200B;**&quot;Content Package AEM-6.4-Service-Pack-7已成功安装。&quot;**

### 更新Dynamic Media查看器(5.10.1){#update-dynamic-media-viewers}

<p id="Dynamic">AEM 6.4.8.0包含新版Dynamic Media查看器(5.10.1)，可在“图像预设”页面上检查重复名称。 建议Dynamic Media客户运行以下命令，将框查看器预设调出为最新状态。

`curl -u admin:admin http://localhost:4502/libs/settings/dam/dm/presets/viewer.pushviewerpresets`

将新查看器预设复制到/conf位置。

### 安装 AEM Forms 附加组件包 {#install-aem-forms-add-on-package}

#### 安装 AEM Forms 附加组件 {#installaemformsaddon}

>[!NOTE]
>
>如果您未使用 AEM Forms，请跳过。AEM Forms 中的修复通过单独的附加包来交付。

>[!NOTE]
>
>AEM 6.4.8.0 包含 [AEM Forms 兼容性包](https://www.adobeaemcloud.com/content/marketplace/marketplaceProxy.html?packagePath=/content/companies/public/adobe/packages/cq640/compatpack/AEM-FORMS-6.4.7.0-COMPAT)的新版本。如果您使用的是旧版AEM Forms兼容性包并更新到AEM 6.4.8.0，请在安装Forms Add-On包后安装最新版本的AEM Forms兼容性包。

1. 确保您已安装了 AEM Service Pack。
1. 下载操作系统[AEM Forms发行版](https://helpx.adobe.com/cn/aem-forms/kb/aem-forms-releases.html)中列出的相应表单加载项包。
1. 按照[安装AEM forms add-on包](https://docs.adobe.com/content/help/en/experience-manager-64/forms/install-aem-forms/osgi-installation/installing-configuring-aem-forms-osgi.html#install-aem-forms-add-on-package)中所述安装表单加载项包。

### 安装AEM Forms JEE安装程序{#install-aem-forms-jee-installer}

>[!NOTE]
>
>如果您未在 JEE 上使用 AEM Forms，请跳过。AEM Forms JEE 中的修复通过单独的安装程序来交付。

有关安装AEM Forms JEE的累积安装程序和部署后配置的信息，请参阅[AEM Forms JEE Patch Installer 0015](https://helpx.adobe.com/cn/aem-forms/quick-fixes/6-4/jee-patch-0015.html)。

#### NPR-21268 所需的配置设置 {#configuration-settings-required-for-npr}

如果您使用经典（旧）UI并且已使用它创建了元数据模板，请按照以下步骤运行JMX脚本以保留这些模板 — 

1. 转到/system/console/jmx。
1. 单击“迁移元数据模板”。
1. 单击“migrateMetadataTemplatesAtPath”并提供要保留元数据模板的文件夹路径。

#### NPR-24536 所需的配置设置 {#configuration-settings-required-for-npr-1}

默认情况下，当某个用户声明任务时，不会为其他用户刷新共享队列的计数。为此，我们引入了一个新属性。请按照以下步骤在 AEM 实例上配置此属性：

1. 转到“管理员 UI”>“服务”>“工作区”>“全局管理”。
1. 导出全局设置。
1. 在下载的XML文件中，添加标签&lt;client_tasksPollingInterval>10&lt;/client_tasksPollingInterval>此处，10是以秒为单位的示例值。 您可以相应地对其进行修改。
1. 保存文件。
1. 返回到“管理员 UI”>“服务”>“工作区”>“全局管理”。
1. 在“导入全局设置”部分导入 xml 文件。
1. 现在，您可以退出系统并重新登录。
1. 对于工作区中的其他用户，共享队列的计数开始刷新。
1. 要关闭轮询，请将值更改为 0，然后再次导入 XML 文件。

### Uber Jar {#uber-jar}

适用于AEM 6.4.8.0的Uber Jar位于[Adobe公共Maven存储库](https://repo.adobe.com/nexus/content/groups/public/com/adobe/aem/uber-jar/6.4.8/)中。

要在 Maven 项目中使用 Uber Jar，请参阅[如何使用 Uber Jar](../sites-developing/ht-projects-maven.md) 一文，并在项目 POM 中包含以下依赖项：

```shell
<dependency>
      <code>com.adobe.aem</groupId>
      <artifactId>uber-jar</artifactId>
      <version>6.4.8</version>
      <classifier>apis</classifier>
      <scope>provided</scope>
</dependency>
```

### 已移除/已弃用功能 {#removed-deprecated-features}

此部分列出了 AEM 6.4 中已移除或已弃用的功能和特性。

| 区域 | 功能 | 替换 | 版本号 |
|---|---|---|---|
| 资产 | 管理子资产的标记操作 | 无替换项 | AEM 6.4.2.0 |
| 资产和 Creative Cloud 集成 | AEM 6.2 中引入了 [AEM 到 Creative Cloud 的文件夹共享](https://docs.adobe.com/content/help/en/experience-manager-64/assets/administer/aem-cc-folder-sharing-best-practices.html)功能，以便创意用户可以从 AEM 访问资产。在 Creative Cloud 应用程序中发布的新功能“Adobe 资产链接”提供了更佳的用户体验，能够直接从 Photoshop、InDesign 和 Illustrator 中轻松访问 AEM Assets。Adobe 不会再进一步增强文件夹共享功能。虽然AEM中包含该功能，但强烈建议客户使用该替换。 | Adobe资产链接或桌面应用程序。 有关更多信息，请参阅 [AEM Creative Cloud 集成](/help/assets/aem-cc-integration-best-practices.md)一文。 | AEM 6.4.4.0 |

### 已知问题 {#known-issues}

* 安装过程中可能显示以下错误和警告：

   * `com.adobe.cq.social.cq-social-jcr-provider bundle com.adobe.cq.social.cq-social-jcr-provider:1.3.5 (395)[com.adobe.cq.social.provider.jcr.impl.SpiSocialJcrResourceProviderImpl(2302)]` :等待注册更改完成未注册的超时。
   * `com.adobe.granite.maintenance.impl.TaskScheduler` 在花岗岩/操作/维护中未找到维护窗口
   * `com.adobe.cq.com.adobe.cq.ui.commons bundle com.adobe.cq.com.adobe.cq.ui.commons:1.2.28 (204)[com.adobe.cq.ui.wcm.commons.internal.servlets.rte.RTEFilterServletFactory(573)]`:unbindAmdent方法引发了异常(java.lang.IllegalStateException:服务已未注册)。这些错误不需要任何操作，因为它们不会影响您的AEM实例。

### 已解决问题{#resolved-issues}

**AEM 6.4.4.0**

* 在导入/导出元数据时未发现资源错误。 CQ-4253263
* 在6.4.2.0之上应用6.4.3.0之后，无法编辑任何图像组件和页面属性。CQ-4260316和CQ-4260441
要解决此问题，请执行以下操作：
   * 转到包管理器
   * 重新安装包“cq-ui-wcm-admin-content-1.0.1004.zip”
   * 重新编译所有JSP `(http://<AEM HOST>:<AEM PORT/system/console/slingjsp)`或重新启动实例。

### 包含的 OSGi 包和内容包 {#osgi-bundles-and-content-packages-included}

以下文本文档列出了 AEM 6.4.8.0 中包含的 OSGi 包和内容包.

AEM 6.4.8.0 中包含的 OSGi 包列表

[获取文件](assets/6.4.8.0_osgi_bundles.txt)

AEM 6.4.8.0 中包含的内容包列表

[获取文件](assets/6.4.8.0_content_packages.txt)

### 有用资源 {#helpful-resources}

* [AEM 6.4 发行说明](../release-notes/release-notes.md)
* [AEM 产品页面](https://www.adobe.com/solutions/web-experience-management.html)
* [AEM 6.4 文档](https://helpx.adobe.com/cn/support/experience-manager/6-4.html)
* 订阅 [Adobe 产品更新早知道](https://www.adobe.com/subscription/priority-product-update.html)

### 受限的网站 {#restricted-sites-new}

这些网站仅适用于客户。如果您是客户并且需要访问，请联系您的 Adobe 客户经理。

* [产品下载：licensing.adobe.com](https://licensing.adobe.com/).
* 有关[软件分发](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html)上其他功能的产品更新、修补程序和软件包。
* [通过Admin Console提供客户支持](https://adminconsole.adobe.com/)。有关详细信息，请参阅[新的Adobe客户支持体验](https://docs.adobe.com/content/help/en/customer-one/using/home.html)。
